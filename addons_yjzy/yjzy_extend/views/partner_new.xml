<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>


        <!-- Partner Titles -->
        <record id="new_view_partner_title_tree" model="ir.ui.view">
            <field name="name">res.partner.title.tree.new</field>
            <field name="model">res.partner.title</field>
            <field name="arch" type="xml">
                <tree string="Partner Titles">
                    <field name="name"/>
                    <field name="shortcut"/>
                </tree>
            </field>
        </record>
        <record id="new_view_partner_title_form" model="ir.ui.view">
            <field name="name">res.partner.title.form.new</field>
            <field name="model">res.partner.title</field>
            <field name="arch" type="xml">
                <form string="Partner Titles">
                    <group col="4">
                        <field name="name"/>
                        <field name="shortcut"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="action_new_partner_title_contact" model="ir.actions.act_window">
            <field name="name">Contact Titles new</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner.title</field>
            <field name="view_type">form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="help">Manage the contact titles you want to have available in your system and the way you want
                to print them in letters and other documents. Some example: Mr., Mrs.
            </field>
        </record>

        <!-- Partner akiny-->
        <record id="view_new_partner_tree" model="ir.ui.view">
            <field name="name">res.partner.tree.new</field>
            <field name="model">res.partner</field>
            <field eval="8" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Contacts">
                    <field name="display_name" string="Name"/>
                    <field name="function" invisible="1"/>
                    <field name="phone"/>
                    <field name="email"/>
                    <field name="child_contact_ids" widget="many2many_tags"/>
                    <field name="user_id" invisible="1"/>
                    <field name="is_company" invisible="1"/>
                    <field name="country_id" invisible="1"/>
                    <field name="parent_id" invisible="1"/>
                    <field name="active" invisible="1"/>
                </tree>
            </field>
        </record>


        <record id="view_new_partner_customer_tree" model="ir.ui.view">
            <field name="name">res.partner.tree.customer.new</field>
            <field name="model">res.partner</field>
            <field eval="8" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Contacts">
                    <field name="name" string="简称"/>
                    <field name="country_id" string="公司所在国"/>
                    <field name="jituan_id" string="所属集团"/>
                    <field name="sale_currency_id" string="销售货币"/>
                    <field name="property_payment_term_id" string="客户付款条款"/>
                    <field name="last_sale_order_approve_date"/>
                    <field name="phone"/>
                    <field name="fax" invisible="1"/>
                    <field name="contract_type" string="业务模式"/>
                    <field name="gongsi_id" string="销售主体"/>
                    <field name="purchase_gongsi_id" string="采购主体"/>
                    <field name="user_id" string="目前客户负责人"/>
                    <field name="customer_info_from_uid" string="客户获取人" invisible="1"/>
                    <field name="devloper_id" string="客户开发人" invisible="1"/>

                    <field name="child_contact_ids" attrs="{'invisible':1}"/>
                    <field name="is_company" invisible="1"/>
                    <field name="active" invisible="1"/>

                </tree>
            </field>
        </record>

        <record id="view_new_partner_supplier_tree" model="ir.ui.view">
            <field name="name">res.partner.tree.supplier.new</field>
            <field name="model">res.partner</field>
            <field eval="8" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Contacts" create="false">
                    <field name="name" string="简称"/>
                    <field name="country_id"/>
                    <field name="city_product_origin"/>
                    <field name="jituan_id"/>
                    <field name="property_purchase_currency_id" invisible="1"/>
                    <field name="property_supplier_payment_term_id"/>
                    <field name="phone"/>
                    <field name="fax" invisible="1"/>
                    <field name="child_contact_ids" invisible="1"/>
                    <field name="is_company" invisible="1"/>
                    <field name="active" invisible="1"/>
                    <field name="amount_purchase_advance_org" string="预付金额"/>
                </tree>
            </field>
        </record>

        <record id="view_new_partner_simple_form" model="ir.ui.view">
            <field name="name">res.partner.simplified.form.new</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <form string="Contact">
                    <field name="is_company" invisible="1"/>
                    <field name="type" invisible="1"/>
                    <field name="image" widget='image' class="oe_avatar" options='{"preview_image": "image_medium"}'/>
                    <div class="oe_title">
                        <field name="company_type" options="{'horizontal': true}" class="oe_edit_only" widget="radio"/>
                        <h1>
                            <field name="name" default_focus="1" placeholder="Name"
                                   attrs="{'required' : [('type', '=', 'contact')]}"/>
                        </h1>
                        <field name="parent_id"
                               placeholder="Company"
                               domain="[('is_company', '=', True)]" context="{'default_is_company': True}"
                               attrs="{'invisible': [('is_company','=', True)]}"/>
                    </div>
                    <group>
                        <field name="function" placeholder="e.g. Sales Director"/>
                        <field name="user_ids" invisible="1"/>
                        <field name="email" widget="email" context="{'gravatar_image': True}"
                               required="context.get('force_email', False)"
                               attrs="{'required': [('user_ids','!=', [])]}"/>
                        <field name="phone" widget="phone"/>
                        <field name="mobile" widget="phone"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_new_partner_customer_account_tree" model="ir.ui.view">
            <field name="name">res.partner.tree.customer.new</field>
            <field name="model">res.partner</field>
            <field eval="8" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Contacts" editable="bottom" >
                    <field name="name" string="简称" readonly="1"/>
                    <button name="print_invoice_payment" icon="fa-print" string="收款-应收"  type="object"/>
                    <field name="sale_order_amount_total" sum="小计" readonly="1"/>
                    <button name="open_sale_order_approve" icon="fa-pencil-square-o" type="object" readonly="1"/>
                    <field name="tb_approve_amount_total" sum="小计"/>
                    <button name="open_tb_approve" icon="fa-pencil-square-o" type="object"/>
                    <field name="amount_invoice" sum="小计" readonly="1" invisible="1"/>
                    <field name="amount_residual_invoice" sum="小计" readonly="1"/>
                    <button name="action_view_partner_invoices_new" icon="fa-pencil-square-o" type="object"/>
                    <!--button name="open_reconcile_order_line_invoice" icon="fa-pencil-square-o" type="object"/-->

                    <field name="payment_amount_total" sum="小计" readonly="1" invisible="1"/>
                    <field name="amount_advance_payment" sum="小计" readonly="1" invisible="1"/>
                    <field name="amount_advance_payment_reconcile" sum="小计" readonly="1"  invisible="1"/>
                    <field name="amount_residual_advance_payment" sum="小计" readonly="1"/>
                    <!--button name="open_reconcile_order_line" icon="fa-pencil-square-o" type="object"/-->
                    <button name="open_advance" icon="fa-pencil-square-o" type="object"/>
                    <field name="so_no_sent_amount" readonly="1" sum="小计"/>
                    <button name="open_sale_order_no_sent" icon="fa-pencil-square-o" type="object"/>
                    <!--button name="open_sale_order" icon="fa-pencil-square-o" type="object"/-->
                    <field name="is_company" invisible="1"/>
                    <field name="active" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="view_new_partner_supplier_account_tree" model="ir.ui.view">
            <field name="name">res.partner.tree.supplier.new</field>
            <field name="model">res.partner</field>
            <field eval="8" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Contacts" editable="bottom" >
                    <field name="name" string="简称" readonly="1"/>
                    <button name="print_invoice_payment" icon="fa-print" string="付款-应付"  type="object"/>

                    <field name="supplier_amount_invoice" sum="小计" readonly="1" invisible="1"/>
                    <field name="supplier_amount_residual_invoice" sum="小计" readonly="1"/>
                    <button name="action_view_partner_supplier_invoices" icon="fa-pencil-square-o" type="object"/>
                    <!--button name="open_reconcile_order_line_invoice" icon="fa-pencil-square-o" type="object"/-->

                    <field name="payment_amount_total" sum="小计" readonly="1" invisible="1"/>
                    <field name="amount_advance_payment" sum="小计" readonly="1" invisible="1"/>
                    <field name="amount_advance_payment_reconcile" sum="小计" readonly="1"  invisible="1"/>
                    <field name="supplier_amount_residual_advance_payment" sum="小计" readonly="1"/>
                    <!--button name="open_reconcile_order_line" icon="fa-pencil-square-o" type="object"/-->
                    <button name="open_supplier_advance" icon="fa-pencil-square-o" type="object"/>

                    <!--button name="open_sale_order" icon="fa-pencil-square-o" type="object"/-->
                    <field name="is_company" invisible="1"/>
                    <field name="active" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="view_new_customer_account_form" model="ir.ui.view">
            <field name="name">res.partner.customer.form.new</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form string="客户">
                    <header groups="base.group_system">
                        <field name="state" statusbar_invisible="draft" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box" groups="base.group_system">
                            <button type="object" class="oe_stat_button" icon="fa-pencil-square-o"
                                    name="action_view_partner_invoices_new"
                                    attrs="{'invisible': [('customer', '=', False)]}">
                                <div class="o_form_field o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="total_invoiced" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </span>
                                    <span class="o_stat_text">Invoiced</span>
                                </div>
                            </button>
                            <button name="open_sale_order" class="oe_stat_button" type="object"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <span class="o_stat_text">销售预收情况</span>
                            </button>
                            <button name="open_advance" class="oe_stat_button" type="object"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <span class="o_stat_text">预收认领列表</span>
                            </button>

                            <field name="is_editable" widget="boolean_toggle"/>
                        </div>
                        <field name="image" widget='image' class="oe_avatar"
                               options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                        <div class="oe_title">
                            <field name="is_company" invisible="1"/>
                            <field name="commercial_partner_id" invisible="1"/>
                            <field name="company_type" widget="radio"
                                   class="oe_edit_only" invisible="1"
                                   options="{'horizontal': true}"/>
                            <div attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                客户简称：
                            </div>

                            <h1>
                                <field name="name" default_focus="1" widget="field_clearbit" placeholder="客户简称"
                                       attrs="{'required' : [('type', '=', 'contact')],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                            </h1>

                            <div class="o_row">
                                <field name="code" readonly="1"/>
                                <button name="generate_code" type="object" string="生成编码" groups="base.group_system"/>
                                <field name="parent_id"
                                       placeholder="Company"
                                       domain="[('is_company', '=', True)]"
                                       context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer}"
                                       attrs="{'invisible': ['|', '&amp;', ('is_company','=', True),('parent_id', '=', False),('company_name', '!=', False),('company_name', '!=', '')]}"/>
                                <field name="company_name"
                                       attrs="{'invisible': ['|', '|', ('company_name', '=', False), ('company_name', '=', ''), ('is_company', '=', True)]}"/>
                                <button name="create_company" type="object" string="Create company"
                                        class="btn btn-sm oe_edit_only fa fa-external-link btn btn-link "
                                        attrs="{'invisible': ['|', '|', ('is_company','=', True), ('company_name', '=', ''), ('company_name', '=', False)]}"/>
                            </div>
                        </div>
                        <group>
                            <field name="customer" invisible="1"/>
                            <field name="supplier" invisible="1"/>
                            <field name="type" invisible="1" attrs="{'invisible': [('parent_id','=', False)]}"
                                   groups="base.group_no_one,sale.group_delivery_invoice_address"/>
                            <field name="full_name" string="客户公司全称"
                                   attrs="{'invisible':[('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                            <!--label for="country_id" string="业务国" attrs="{'invisible':[('type','!=','delivery')]}"/>
                            <label for="country_id" string="所在国" attrs="{'invisible':[('type','=','delivery')]}"/>
                            <div class="o_row"-->
                            <field name="country_id" placeholder="Country" string="公司所在国"
                                   class="o_address_country"
                                   options='{"no_open": True, "no_create": True}'
                                   attrs="{'readonly': [('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                            <!--/div-->
                            <field name="jituan_id" string="所属集团" help="如果没有请填写无"
                                   domain="['|',('partner_type','=','customer'),('partner_type','=',False)]"
                                   options='{"no_open": True, "no_create": True}'
                                   attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                            <field name="sale_currency_id" options="{'no_open':1}"
                                   attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                            <field name="property_payment_term_id" help="做销售合同时，预设的付款条款和订单选择的条款有出入时，会标注红色"
                                   domain="[('type','=','sale')]"
                                   attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                   widget="selection"/>

                            <separator string="" colspan="2"/>
                        </group>
                        <notebook colspan="4">
                            <page string="应收账单列表">
                                <field name="invoice_ids">
                                    <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'"
                                          string="Invoice">

                                        <field name="date_invoice" string="账单日期"/>
                                        <field name="tb_contract_code" string="合同号"/>
                                        <button name="open_reconcile_order_line" icon="fa-pencil-square-o"
                                                type="object"/>
                                        <field name="amount_total_signed" string="Total" sum="Total"/>
                                        <field name="residual_signed" string="未付金额" sum="Amount Due"/>
                                        <field name="reconcile_order_line_payment"/>
                                        <field name="reconcile_order_line_advance"/>
                                        <field name="reconcile_order_line_bank"/>
                                        <field name="reconcile_order_line_amount_diff"/>
                                        <field name="commercial_partner_id" invisible="1"/>
                                        <field name="reference" invisible="1"/>
                                        <field name="name" invisible="1"/>
                                        <field name="journal_id" invisible="1"/>
                                        <field name="company_id" groups="base.group_multi_company" invisible="1"
                                               options="{'no_create': True}"/>
                                        <field name="user_id" invisible="1"/>
                                        <field name="origin" invisible="1"/>
                                        <field name="currency_id" invisible="1"/>
                                        <field name="company_currency_id" invisible="1"/>
                                        <field name="state"/>
                                        <field name="type" invisible="context.get('type',True)"/>
                                        <field name="date_due" string="进仓到期日"/>
                                        <field name="date_deadline" string="实际到期日"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="预收单列表">
                                <field name="advance_payment_ids">
                                    <tree string="预收认领单" edit="false" create="false">
                                        <field name="name" invisible="1"/>
                                        <field name="payment_date" string="认领日期"/>
                                        <field name="amount" string="认领金额"/>
                                        <field name="advance_reconcile_order_line_invoice_char" string="账单"/>
                                        <field name="so_id" string="销售合同"/>
                                        <field name="advance_reconcile_order_line_ids" invisible="1"/>
                                        <field name="advance_reconcile_order_line_date_char"/>
                                        <field name="advance_reconcile_order_line_amount_char"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="manager" string="管理页" groups="base.group_system">
                                <group>
                                    <field name="sales_approve_uid"/>
                                    <field name="sales_approve_date"/>
                                    <field name="approve_uid"/>
                                    <field name="approve_date"/>
                                    <field name="done_uid"/>
                                    <field name="done_date"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        <record id="view_new_supplier_account_form" model="ir.ui.view">
            <field name="name">res.partner.supplier.form.new</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form string="供应商">
                    <header groups="base.group_system">
                        <field name="state" statusbar_invisible="draft" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box" groups="base.group_system">
                            <button type="object" class="oe_stat_button" icon="fa-pencil-square-o"
                                    name="action_view_partner_invoices_new"
                                    attrs="{'invisible': [('customer', '=', False)]}">
                                <div class="o_form_field o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="total_invoiced" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </span>
                                    <span class="o_stat_text">Invoiced</span>
                                </div>
                            </button>
                            <button name="open_sale_order" class="oe_stat_button" type="object"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <span class="o_stat_text">销售预收情况</span>
                            </button>
                            <button name="open_advance" class="oe_stat_button" type="object"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <span class="o_stat_text">预收认领列表</span>
                            </button>

                            <field name="is_editable" widget="boolean_toggle"/>
                        </div>
                        <field name="image" widget='image' class="oe_avatar"
                               options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                        <div class="oe_title">
                            <field name="is_company" invisible="1"/>
                            <field name="commercial_partner_id" invisible="1"/>
                            <field name="company_type" widget="radio"
                                   class="oe_edit_only" invisible="1"
                                   options="{'horizontal': true}"/>

                            <div>
                                供应商简称：
                            </div>
                            <h1>
                                <field name="name" default_focus="1" widget="field_clearbit" placeholder="供应商简称"
                                       attrs="{'required' : [('type', '=', 'contact')],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                            </h1>
                            <div class="o_row">
                                <field name="code" readonly="1"/>
                                <button name="generate_code" type="object" string="生成编码" groups="base.group_system"/>
                                <field name="parent_id"
                                       placeholder="Company"
                                       domain="[('is_company', '=', True)]"
                                       context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer}"
                                       attrs="{'invisible': ['|', '&amp;', ('is_company','=', True),('parent_id', '=', False),('company_name', '!=', False),('company_name', '!=', '')],'form_view_ref':'yjzy_extend.view_new_supplier_form'}"/>
                                <field name="company_name"
                                       attrs="{'invisible': ['|', '|', ('company_name', '=', False), ('company_name', '=', ''), ('is_company', '=', True)]}"/>
                                <button name="create_company" type="object" string="Create company"
                                        class="btn btn-sm oe_edit_only fa fa-external-link btn btn-link "
                                        attrs="{'invisible': ['|', '|', ('is_company','=', True), ('company_name', '=', ''), ('company_name', '=', False)]}"/>
                            </div>
                        </div>


                            <group>
                                <field name="customer" invisible="1"/>
                            <field name="supplier" invisible="1"/>
                                <field name="type" invisible="1" attrs="{'invisible': [('parent_id','=', False)]}"
                                       groups="base.group_no_one,sale.group_delivery_invoice_address"/>
                                <field name="full_name" string="供应商全称"
                                       attrs="{
                                       'invisible':[('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                <!--label for="country_id" string="业务国" attrs="{'invisible':[('type','!=','delivery')]}"/>
                                <label for="country_id" string="所在国" attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_row"-->
                                <field name="country_id" placeholder="Country" string="供应商所在国"
                                       class="o_address_country "
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="city_product_origin" string="产地(国家/城市)" attrs="{'required' : [('state', '=', 'check')],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <!--/div-->
                                <field name="jituan_id" string="所属集团"
                                       domain="['|',('partner_type','=','supplier'),('partner_type','=',False)]"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':[('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="property_purchase_currency_id" string="币种"
                                       options="{'no_create': True, 'no_open': True}"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="property_supplier_payment_term_id" help="做采购合同时，预设的付款条款和订单选择的条款有出入时，会标注红色"
                                       attrs="{'invisible':['|',('supplier','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       domain="[('type','=','purchase')]" widget="selection"/>
                            </group>
                        <notebook colspan="4">
                            <page string="应付账单列表">
                                <field name="supplier_invoice_ids">
                                    <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'"
                                          string="Invoice">

                                         <field name="partner_id" groups="base.group_user" string="Customer"/>
                    <field name="date_invoice" string="账单日期"/>
                    <field name="tb_contract_code" string="合同号"/>
                    <button name="open_reconcile_order_line" icon="fa-pencil-square-o" type="object"/>
                    <field name="amount_total_signed" string="Total" sum="Total"/>
                    <field name="residual_signed" string="未付金额" sum="Amount Due"/>
                    <field name="reconcile_order_line_payment" sum="小计"/>
                    <field name="reconcile_order_line_advance" sum="小计"/>
                    <field name="reconcile_order_line_bank" sum="小计"/>
                    <field name="reconcile_order_line_amount_diff" sum="小计"/>
                    <field name="commercial_partner_id" invisible="1"/>
                    <field name="reference" invisible="1"/>
                    <field name="name" invisible="1"/>
                    <field name="journal_id" invisible="1"/>
                    <field name="company_id" groups="base.group_multi_company" invisible="1"
                           options="{'no_create': True}"/>
                    <field name="user_id" invisible="1"/>
                    <field name="origin" invisible="1"/>
                    <field name="currency_id" invisible="1"/>
                    <field name="company_currency_id" invisible="1"/>
                    <field name="state"/>
                    <field name="type" invisible="context.get('type',True)"/>
                    <field name="date_due" string="进仓到期日"/>
                    <field name="date_deadline" string="实际到期日"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="预付单列表">
                                <field name="supplier_advance_payment_ids">
                                    <tree string="预付申请单" edit="false" create="false">
                                        <field name="partner_id"/>
                <field name="name" invisible="1"/>
                <field name="rcskd_date" string="付款日期"/>
                <field name="rcskd_amount" string="付款金额"/>
                <field name="payment_date" string="申请日期"/>
                <field name="amount" string="金额"/>
                <button name="open_reconcile_order_line" icon="fa-pencil-square-o" type="object"/>
                <field name="advance_balance_total" string="未认领金额"/>
                <field name="advance_total" string="已认领金额"/>
                <field name="po_id" string="采购合同"/>
                <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="manager" string="管理页" groups="base.group_system">
                                <group>
                                    <field name="sales_approve_uid"/>
                                    <field name="sales_approve_date"/>
                                    <field name="approve_uid"/>
                                    <field name="approve_date"/>
                                    <field name="done_uid"/>
                                    <field name="done_date"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <!-- Open partner address -->
        <record id="view_new_partner_address_form" model="ir.ui.view">
            <field name="name">res.partner.form.address.new</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="20"/>
            <field name="arch" type="xml">
                <form string="Partner">
                    <field name="image" widget='image' class="oe_avatar"
                           options='{"preview_image": "image_medium", "size": [90, 90]}' readonly="1"/>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    <field name="parent_id" invisible="1"/>
                    <group>
                        <group>
                            <label for="type" attrs="{'invisible': [('parent_id','=', False)]}"
                                   groups="base.group_no_one"/>
                            <div attrs="{'invisible': [('parent_id','=', False)]}" name="div_type"
                                 groups="base.group_no_one">
                                <field name="type" class="oe_inline"/>
                            </div>
                            <label for="street" string="Address"/>
                            <div class="o_address_format">
                                <field name="street" placeholder="Street..." class="o_address_street"/>
                                <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                <field name="city" placeholder="City" class="o_address_city"/>
                                <field name="state_id" class="o_address_state" placeholder="State"
                                       options='{"no_open": True}'/>
                                <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                <field name="country_id" placeholder="Country" class="o_address_country"
                                       options='{"no_open": True, "no_create": True}'/>
                            </div>
                            <field name="website" placeholder="e.g. www.odoo.com"/>
                        </group>
                        <group>
                        </group>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_new_partner_short_form" model="ir.ui.view">
            <field name="name">res.partner.form.new</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="2"/>
            <field name="arch" type="xml">
                <form string="Partners">
                    <sheet>
                        <field name="image" widget='image' class="oe_avatar"
                               options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                        <div class="oe_title">
                            <field name="is_company" invisible="1"/>
                            <field name="commercial_partner_id" invisible="1"/>
                            <field name="company_type" widget="radio"
                                   class="oe_edit_only"
                                   options="{'horizontal': true}"/>
                            <h1>
                                <field name="name" default_focus="1" placeholder="Name"
                                       attrs="{'required' : [('type', '=', 'contact')]}"/>
                            </h1>
                            <div class="o_row">
                                <field name="parent_id"
                                       placeholder="Company"
                                       domain="[('is_company', '=', True)]"
                                       context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer}"
                                       attrs="{'invisible': ['|', '&amp;', ('is_company','=', True),('parent_id', '=', False),('company_name', '!=', False),('company_name', '!=', '')]}"/>
                                <field name="company_name"
                                       attrs="{'invisible': ['|', '|', ('company_name', '=', False), ('company_name', '=', ''), ('is_company', '=', True)]}"/>
                                <button name="create_company" type="object" string="Create company"
                                        class="btn btn-sm oe_edit_only fa fa-external-link btn btn-link "
                                        attrs="{'invisible': ['|', '|', ('is_company','=', True), ('company_name', '=', ''), ('company_name', '=', False)]}"/>
                            </div>
                        </div>
                        <group>
                            <group>
                                <field name="type" attrs="{'invisible': [('parent_id','=', False)]}"
                                       groups="base.group_no_one"/>
                                <label for="street" string="Address"/>
                                <div class="o_address_format">
                                    <div class="oe_edit_only">
                                        <button name="open_parent" type="object" string="(edit)" class="oe_link"
                                                attrs="{'invisible': ['|', ('parent_id', '=', False), ('type', '!=', 'contact')]}"/>
                                    </div>
                                    <field name="street" placeholder="Street..." class="o_address_street"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="street2" placeholder="Street 2..." class="o_address_street"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="city" placeholder="City" class="o_address_city"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="state_id" class="o_address_state" placeholder="State"
                                           options='{"no_open": True}'
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           context="{'country_id': country_id, 'zip': zip}"/>
                                    <field name="zip" placeholder="ZIP" class="o_address_zip"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="country_id" placeholder="Country" class="o_address_country"
                                           options='{"no_open": True, "no_create": True}'
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                </div>
                                <field name="vat" placeholder="e.g. BE0477472701"
                                       attrs="{'readonly': [('parent_id','!=',False)]}"/>
                            </group>
                            <group>
                                <field name="function" placeholder="e.g. Sales Director"
                                       attrs="{'invisible': [('is_company','=', True)]}"/>
                                <field name="phone" widget="phone"/>
                                <field name="mobile" widget="phone"/>
                                <field name="email" widget="email" context="{'gravatar_image': True}"/>
                                <field name="customer" invisible="1"/>
                                <field name="supplier" invisible="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <!--akiny 重点-->

        <!-- 公司客户需要的字段   attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"
公司客户联系人    attrs="{'invisible':['|','|',('customer','=',False),('type','!=','contact'),('is_company','=',True)]}"
公司客户发货地址  attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"



公司供应商   attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}"
司供应商联系人  attrs="{'invisible': ['|','|',('supplier','=',False),('type','!=','contact'),('is_company','=',True)]}"

内部联系人 attrs="{'invisible': ['|','|',('supplier','=',False),('type','!=','contact'),('is_company','=',True)]}"
共有的联系人字段 attrs="{'invisible': ['|',('type','=','delivery''),('is_company','=',True)]}"

公司客户和供应商 共同需要 attrs="{'invisible':[('is_company','=',False)]}"

除了发货地址其他都需要的字段  attrs="{'invisible':[('type','=','delivery')]}"

        -->


        <record id="view_new_partner_form" model="ir.ui.view">
            <field name="name">res.partner.form.new</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form string="Partners" create="false" edit="false">
                    <header>

                        <button name="action_done" string="确认" type="object" class="btn-primary"
                                states="approve"/>
                        <button name="action_cancel" string="取消" type="object" class="btn-primary"
                                states="draft"/>
                        <button name="action_draft" string="存为草稿" type="object" class="btn-primary"
                                states="draft"/>

                        <field name="state" statusbar_invisible="draft" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box" groups="base.group_system">


                            <button type="object" class="oe_stat_button" icon="fa-pencil-square-o"
                                    name="action_view_partner_invoices"
                                    attrs="{'invisible': [('customer', '=', False)]}">
                                <div class="o_form_field o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="total_invoiced" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </span>
                                    <span class="o_stat_text">Invoiced</span>
                                </div>
                            </button>
                            <button class="oe_stat_button" type="object" name="action_open_helpdesk_ticket"
                                    context="{'default_partner_id': active_id}" icon="fa-life-ring"
                                    attrs="{'invisible': [('ticket_count', '=', 0)]}">
                                <div class="o_stat_info">
                                    <field name="ticket_count" class="o_stat_value"/>
                                    <span class="o_stat_text">Tickets</span>
                                </div>
                            </button>
                            <contactsync/>
                            <button type="object" name="open_messsage" class="oe_stat_button" icon="fa-envelope"
                                    string="查看消息" groups="base.group_system" invisible="1"/>

                            <button name="partner_messages" type="object" class="oe_stat_button" icon="fa-envelope"
                                    attrs="{'invisible': [('messages_from_count', '=', 0)]}"
                                    context="{'open_mode': 'from'}">
                                <field name="messages_from_count" widget="statinfo" string="Author"/>
                            </button>
                            <button name="partner_messages" type="object" class="oe_stat_button" icon="fa-envelope"
                                    attrs="{'invisible': [('messages_to_count', '=', 0)]}"
                                    context="{'open_mode': 'to'}">
                                <field name="messages_to_count" widget="statinfo" string="Recipient"/>
                            </button>
                            <button class="oe_stat_button o_res_partner_tip_opp" type="action"
                                    attrs="{'invisible': [('customer', '=', False)]}" name="383" icon="fa-star"
                                    context="{'search_default_partner_id': active_id}">
                                <field string="Opportunities" name="opportunity_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="object" name="schedule_meeting" icon="fa-calendar"
                                    context="{'partner_id': active_id, 'partner_name': name}">
                                <field string="Meetings" name="meeting_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="website_publish_button" type="object" icon="fa-globe">
                                <field name="website_published" widget="website_button"/>
                            </button>
                            <button type="object" class="oe_stat_button" id="partner_ledger_button"
                                    icon="fa-pencil-square-o" name="open_partner_ledger"
                                    context="{'default_partner_id': active_id}">
                                <field name="partner_ledger_label"/>
                            </button>

                            <button type="object" class="oe_stat_button" name="open_action_followup"
                                    groups="account.group_account_user" icon="fa-list"
                                    attrs="{'invisible': [('credit', '=', 0)]}">
                                <div class="o_field_widget o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="credit" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </span>
                                    <span class="o_stat_text">Due</span>
                                </div>
                            </button>
                            <button class="oe_stat_button" type="action" name="274"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <field string="Sales" name="sale_order_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="347" type="action"
                                    attrs="{'invisible': [('supplier', '=', False)]}" icon="fa-shopping-cart">
                                <field string="Purchases" name="purchase_order_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="348" type="action"
                                    attrs="{'invisible': [('supplier', '=', False)]}" icon="fa-pencil-square-o"
                                    help="Vendor Bills">
                                <field string="Vendor Bills" name="supplier_invoice_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="action" name="206" icon="fa-book"
                                    groups="analytic.group_analytic_accounting">
                                <field string="Analytic Accounts" name="contracts_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="action" name="624"
                                    context="{'search_default_partner_id': active_id, 'default_partner_id': active_id}"
                                    attrs="{'invisible': [('task_count', '=', 0)]}" icon="fa-tasks">
                                <field string="Tasks" name="task_count" widget="statinfo"/>
                            </button>
                            <button name="toggle_active" type="object"
                                    class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button"
                                       options='{"terminology": "archive"}'/>
                            </button>
                        </div>
                        <field name="image" widget='image' class="oe_avatar"
                               options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                        <div class="oe_title">
                            <field name="is_company" invisible="1"/>
                            <field name="commercial_partner_id" invisible="1"/>
                            <field name="company_type" widget="radio"
                                   class="oe_edit_only" invisible="1"
                                   options="{'horizontal': true}"/>
                            <div attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                客户简称：
                            </div>
                            <div attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}">
                                供应商简称：
                            </div>
                            <div attrs="{'invisible':['|','|',('customer','=',False),('type','!=','contact'),('is_company','=',True)]}">
                                客户联系人姓名：
                            </div>
                            <div attrs="{'invisible': ['|','|',('supplier','=',False),('type','!=','contact'),('is_company','=',True)]}">
                                供应商联系人姓名：
                            </div>
                            <div attrs="{'invisible':['|',('is_company','=',True),('type','!=','delivery')]}">
                                发货目的地编号：
                            </div>

                            <h1>
                                <field name="name" default_focus="1" widget="field_clearbit" placeholder="公司简称"
                                       attrs="{'required' : [('type', '=', 'contact')]}"/>
                            </h1>
                            <div class="o_row">
                                <field name="code" readonly="1"/>
                                <button name="generate_code" type="object" string="生成编码" groups="base.group_system"/>
                                <field name="parent_id"
                                       placeholder="Company"
                                       domain="[('is_company', '=', True)]"
                                       context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer}"
                                       attrs="{'invisible': ['|', '&amp;', ('is_company','=', True),('parent_id', '=', False),('company_name', '!=', False),('company_name', '!=', '')]}"/>
                                <field name="company_name"
                                       attrs="{'invisible': ['|', '|', ('company_name', '=', False), ('company_name', '=', ''), ('is_company', '=', True)]}"/>
                                <button name="create_company" type="object" string="Create company"
                                        class="btn btn-sm oe_edit_only fa fa-external-link btn btn-link "
                                        attrs="{'invisible': ['|', '|', ('is_company','=', True), ('company_name', '=', ''), ('company_name', '=', False)]}"/>
                            </div>
                        </div>

                        <group col="3">
                            <group>
                                <field name="type" invisible="1" attrs="{'invisible': [('parent_id','=', False)]}"
                                       groups="base.group_no_one,sale.group_delivery_invoice_address"/>
                                <field name="full_name"
                                       attrs="{'required' : [('is_company', '=', True)],'invisible':[('is_company','=',False)]}"/>

                                <!--label for="country_id" string="业务国" attrs="{'invisible':[('type','!=','delivery')]}"/>
                                <label for="country_id" string="所在国" attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_row"-->
                                <field name="country_id" placeholder="Country" string="国家"
                                       class="o_address_country "
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'required':[('customer','=',True),('is_inter_partner','=',False)],'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                <field name="city_product_origin"/>
                                <!--/div-->
                                <field name="jituan_id"
                                       domain="[('user_ids','in',uid)]"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'required' : [('is_company', '=', True),('customer','=',True)],'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="sale_currency_id"
                                       attrs="{'required' : [('is_company', '=', True),('customer','=',True)],'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="property_payment_term_id" domain="[('type','=','sale')]"
                                       attrs="{'required' : [('is_company', '=', True),('customer','=',True)],'invisible':['|',('customer','=',False),('is_company','=',False)]}"
                                       widget="selection"/>
                                <field name="property_supplier_payment_term_id"
                                       attrs="{'required' : [('is_company', '=', True),('supplier','=',True)],'invisible':['|',('supplier','=',False),('is_company','=',False)]}"
                                       domain="[('type','=','purchase')]" widget="selection"/>
                                <!--发货地址专用-->
                                <field name="invoice_title" attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                <field name="wharf_src_id" invisible="1"
                                       attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                <field name="wharf_dest_id" attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                <field name="notice_man" attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                <field name="delivery_man"
                                       attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"
                                       string="收货人"/>
                                <separator string="" colspan="2"/>
                                <!--separator string="联系方式" style="border-bottom:1px #000000 solid" colspan="2"/-->

                                <div colspan="2">
                                    <div style="min-width: 110px;float:left;font-weight:bolder">
                                        <span attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}">
                                            供应商地址
                                        </span>
                                        <span attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                            客户地址
                                        </span>
                                        <span attrs="{'invisible': ['|',('type','=','delivery'),('is_company','=',True)]}">
                                            联系人地址
                                        </span>
                                    </div>
                                    <div style="float:left;word-wrap: break-word; width: 55%">
                                        <field name="address_text" style="float:left;width:100%;"/>
                                    </div>
                                </div>


                                <label for="street" string="详细地址" groups="base.group_system"
                                       attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_address_format" groups="base.group_system"
                                     attrs="{'invisible':[('type','=','delivery')]}">
                                    <div class="oe_edit_only">
                                        <button name="open_parent" type="object" string="(edit)" class="oe_link"
                                                attrs="{'invisible': ['|', ('parent_id', '=', False), ('type', '!=', 'contact')]}"/>
                                    </div>

                                    <field name="address_text" class="o_address_street"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="street" placeholder="Street..." class="o_address_street"
                                           groups="base.group_system"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="street2" placeholder="Street 2..." class="o_address_street"
                                           groups="base.group_system"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="city" placeholder="City" class="o_address_city"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1"/>
                                    <field name="state_id" class="o_address_state" placeholder="State"
                                           options='{"no_open": True}'
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1" context="{'country_id': country_id, 'zip': zip}"/>
                                    <field name="zip" placeholder="ZIP" class="o_address_zip"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1"/>
                                </div>
                                <label for="phone" attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_row" attrs="{'invisible':[('type','=','delivery')]}">
                                    <field name="phone" widget="phone"/>
                                    <!--button type="action" name="126" class="btn-xs btn-link mb4 fa fa-envelope-o" attrs="{'invisible':[('phone', '=', False)]}" context="{'field_name': 'phone'}"/-->
                                </div>
                                <label for="mobile"
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','=',True)]}"/>
                                <div class="o_row"
                                     attrs="{'invisible':['|',('type','=','delivery'),('is_company','=',True)]}">
                                    <field name="mobile" widget="phone"/>
                                    <!--button type="action" name="126" class="btn-xs btn-link mb4 fa fa-envelope-o" attrs="{'invisible':[('mobile', '=', False)]}" context="{'field_name': 'mobile'}"/-->
                                </div>
                                <field name="fax" attrs="{'invisible':[('type','=','delivery')]}"/>
                                <field name="website" placeholder="e.g. www.tenyale.com"
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','!=',True)]}"/>


                            </group>
                            <group>
                                <field name="level"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="partner_level" widget="selection"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="function" placeholder="e.g. Sales Director"
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','=',True)]}"/>

                                <field name="user_ids" invisible="1"/>
                                <field name="email"
                                       attrs="{'required': [('user_ids','!=', [])],'invisible':['|',('type','=','delivery'),('is_company','=',True)]}"
                                       widget="email" context="{'gravatar_image': True}"/>

                                <!--label for="email"  用来替换email，增加直接发送邮件的按钮/>
                                   <div class="o_row">
                                   <span style="display:contents!important">
                                      <field name="email"/>
                                     </span>
                                    <button type="object" name="send_email" class="btn-xs btn-link mb4 fa fa-envelope-o" attrs="{'invisible':[('email', '=', False)]}" context="{'field_name': 'email'}"/>
                                   </div-->
                                <field name="title" options='{"no_open": True}'
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','=',True)]}"/>
                                <field name="wechat"
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','=',True)]}"/>
                                <field name="skype"
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','=',True)]}"/>
                                <field name="qq"
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','=',True)]}"/>

                                <field name="is_inter_partner" groups="base.group_system"/>
                                <field name="contract_type"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="gongsi_id"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="purchase_gongsi_id"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <!--field name="campaign_id" string="来源"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/-->
                                <field name="customer_info_from_uid"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="supplier_info_from_uid" string="供应商获取人"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}"/>
                                <field name="devloper_id" string="客户开发人"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="user_id" string="目前客户负责人"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="assistant_id"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}"/>
                                <field name="product_manager_id" invisible="1"/>

                                <field name="exchange_type_ids" widget="many2many_tags" string="付款方式"
                                       attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>

                                <!-- field name="mark_ids" widget="many2many_tags"/-->

                                <field name="mark_text"
                                       attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>

                                <!--label for="mark_comb_ids"/>
                                <div colspan="2">
                                       <field name="mark_comb_ids"  attrs="{'invisible': [('type', '!=', 'delivery')]}">
                                           <tree>
                                            <field name="name"/>
                                            <field name="description_mark"/>
                                          </tree>


                                        </field>
                                </div-->
                                <field name="demand_info"
                                       attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>
                                <!--供应商信息-->
                                <field name="property_purchase_currency_id"
                                       options="{'no_create': True, 'no_open': True}"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}"/>
                                <field name="advance_currency_id" invisible="1"/>
                                <field name="currency_id" invisible="1"/>
                                <field name="amount_purchase_advance_org"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}"/>
                                <field name="amount_purchase_advance"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}"/>
                                <field name="need_purchase_fandian"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}"/>
                                <field name="purchase_fandian_ratio"
                                       attrs="{'invisible': [('need_purchase_fandian','!=',True)]}"/>
                                <field name="purchase_fandian_partner_id"
                                       attrs="{'invisible': [('need_purchase_fandian','!=',True)]}"/>


                            </group>
                            <group attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">

                                <field name="vat" invisible="1" placeholder="e.g. BE0477472701"
                                       attrs="{'readonly': [('parent_id','!=',False)]}"/>
                                <field name="category_id" invisible="1" widget="many2many_tags"
                                       options="{'color_field': 'color', 'no_create_edit': True}"
                                       placeholder="Tags..."/>
                                <field name="lang" invisible="1"/>

                                <field name="vat" invisible="1"
                                       attrs="{'readonly': [('parent_id','!=',False)]}"/>
                                <field name="category_id" invisible="1" widget="many2many_tags"
                                       options="{'color_field': 'color', 'no_create_edit': True}"
                                       placeholder="Tags..."/>
                                <field name="lang" invisible="1"/>
                                <label for="customer_purchase_in_china" colspan="2"/>
                                <div colspan="2">
                                    <field name="customer_purchase_in_china" class="oe_inline"/>
                                    <!--field name="customer_purchase_in_china_currency_id" invisible="1"
                                           style="margin-left:3px" options="{'no_open':1}" class="oe_inline"/-->
                                    <span style="margin-left:3px"
                                          attrs="{'invisible':[('customer_purchase_in_china','=',0)]}">
                                        <field name="customer_purchase_in_china_note" placeholder="填写备注..."/>
                                    </span>
                                </div>

                                <label for="customer_sale_total" colspan="2"/>
                                <div colspan="2">
                                    <field name="customer_sale_total" class="oe_inline"/>
                                    <!--field name="customer_sale_total_currency_id" invisible="1" style="margin-left:3px"
                                           options="{'no_open':1}" class="oe_inline"/-->
                                    <span style="margin-left:3px" attrs="{'invisible':[('customer_sale_total','=',0)]}">
                                        <field name="customer_sale_total_note" placeholder="填写备注..."/>
                                    </span>
                                </div>

                                <label for="comment" colspan="2"/>
                                <div colspan="2">
                                    <field name="comment" placeholder="内部备注..."/>
                                </div>


                                <label for="supplier_sale_total" colspan="2"/>
                                <div colspan="2">
                                    <field name="supplier_sale_total" class="oe_inline"/>
                                    <field name="supplier_sale_total_currency_id" invisible="1"
                                           style="margin-left:3px" options="{'no_open':1}" class="oe_inline"/>
                                    <span style="margin-left:3px"
                                          attrs="{'invisible':[('supplier_sale_total','=',0)]}">
                                        <field name="supplier_sale_total_note" placeholder="填写备注..."/>
                                    </span>
                                </div>

                                <label for="supplier_export_total" colspan="2"/>
                                <div colspan="2">
                                    <field name="supplier_export_total" class="oe_inline"/>
                                    <field name="supplier_export_total_currency_id" invisible="1"
                                           style="margin-left:3px"
                                           options="{'no_open':1}" class="oe_inline"/>
                                    <span style="margin-left:3px"
                                          attrs="{'invisible':[('supplier_export_total','=',0)]}">
                                        <field name="supplier_export_total_note" placeholder="填写备注..."/>
                                    </span>
                                </div>

                                <label for="comment" colspan="2"/>
                                <div colspan="2">
                                    <field name="comment" placeholder="内部备注..."/>
                                </div>


                            </group>
                        </group>

                        <notebook colspan="4">
                            <page string="Contacts &amp; Addresses" autofocus="autofocus" groups="base.group_system">
                                <field name="child_ids" mode="tree,kanban" domain="[('type','=','contact')]"
                                       context="{'default_parent_id': active_id, 'default_street': street,
                                    'default_street2': street2, 'default_city': city, 'default_state_id': state_id,
                                    'default_zip': zip, 'default_country_id': country_id, 'default_supplier': supplier,
                                    'default_customer': customer, 'default_lang': lang}">
                                    <tree group_by="name">
                                        <field name="name" string="Contact Name"
                                               attrs="{'required' : [('type', '=', 'contact')]}"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="country_id"/>
                                        <field name="phone"/>
                                    </tree>


                                    <!--kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="state_id"/>
                                        <field name="image_small"/>
                                        <field name="lang"/-->
                                    <!-- fields in form x2many view to diminish requests -->
                                    <!--field name="comment"/>
                                    <field name="customer"/>
                                    <field name="display_name"/>
                                    <field name="supplier"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                            <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                                <a t-if="!read_only_mode" type="delete" class="fa fa-times pull-right"/>
                                                <div class="o_kanban_image">
                                                    <img t-if="record.image_small.raw_value" t-att-src="'data:image/png;base64,'+record.image_small.raw_value"/>
                                                    <t t-if="!record.image_small.raw_value">
                                                        <img t-if="record.type.raw_value === 'delivery'" t-att-src='_s + "/base/static/src/img/truck.png"'/>
                                                        <img t-if="record.type.raw_value === 'invoice'" t-att-src='_s + "/base/static/src/img/money.png"'/>
                                                        <t t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'">
                                                            <img t-if="record.is_company.raw_value === true" t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                                            <img t-if="record.is_company.raw_value === false" t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="oe_kanban_details">
                                                       <span>优先级<field name="sequence"/></span>
                                                      <span>
                                                         <field name="type"/>:
                                                      </span>
                                                    <field name="name"/>
                                                    <div t-if="record.function.raw_value"><field name="function"/></div>
                                                    <div t-if="record.email.raw_value"><field name="email" widget="email"/></div>
                                                    <div t-if="record.type.raw_value != 'contact'">
                                                        <div>
                                                            <field name="zip"/>
                                                            <field name="city"/>
                                                        </div>
                                                        <field t-if="record.state_id.raw_value" name="state_id"/>
                                                        <field name="country_id"/>
                                                    </div>
                                                    <div t-if="record.phone.raw_value">Phone: <field name="phone"/></div>
                                                    <div t-if="record.mobile.raw_value">Mobile: <field name="mobile"/></div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban-->
                                    <form string="Contact / Address">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>
                                            <group>

                                                <group>
                                                    <field name="is_company" invisible="1"/>
                                                    <field name="name" string="联系人"
                                                           attrs="{'required' : [('type', '=', 'contact')]}"/>
                                                    <field name="title" placeholder="e.g. Mr." invisible="1"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="function" placeholder="e.g. Sales Director"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="phone" widget="phone"/>
                                                    <field name="mobile" widget="phone"/>
                                                    <field name="email"/>
                                                    <field name="wechat"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="skype"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="qq"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="sequence"/>
                                                    <field name="comment_contact" placeholder="note..."
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                </group>
                                                <group>  <!--attrs="{'invisible': [('type','=', 'contact')]}"-->
                                                    <label for="street" string="地址"/>
                                                    <div>
                                                        <div class="o_address_format" name="div_address">
                                                            <field name="street" placeholder="Street..."
                                                                   class="o_address_street"/>
                                                            <field name="street2" placeholder="Street 2..."
                                                                   class="o_address_street"/>
                                                            <field name="city" placeholder="City" class="o_address_city"
                                                                   invisible="1"/>
                                                            <field name="state_id" class="o_address_state" invisible="1"
                                                                   placeholder="State" options='{"no_open": True}'
                                                                   context="{'country_id': country_id, 'zip': zip}"/>
                                                            <field name="zip" placeholder="ZIP" invisible="1"
                                                                   class="o_address_zip"/>
                                                            <field name="country_id" placeholder="Country"
                                                                   class="o_address_country"
                                                                   options='{"no_open": True, "no_create": True}'/>
                                                        </div>
                                                    </div>
                                                </group>
                                            </group>
                                            <field name="supplier" invisible="True"/>
                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>
                                </field>
                            </page>

                            <page string="联系人*"
                                  attrs="{'invisible':['|',('type','=','delivery'),('is_company','!=',True)]}">

                                <field name="child_contact_ids" mode="tree,kanban"
                                       context="{'default_parent_id': active_id, 'default_street': street, 'default_street2': street2,
                                                 'default_zip': zip, 'default_country_id': country_id,
                                                 'default_supplier': supplier, 'default_customer': customer, 'default_lang': lang}">
                                    <tree class="o_list_scroll">
                                        <field name="name"/>
                                        <field name="country_id"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="mobile"/>
                                        <field name="email"/>
                                        <field name="wechat"/>
                                        <field name="skype"/>
                                        <field name="qq"/>
                                        <field name="comment_contact"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                    </tree>

                                    <!--kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="state_id"/>
                                        <field name="image_small"/>
                                        <field name="lang"/-->
                                    <!-- fields in form x2many view to diminish requests -->
                                    <!--field name="comment"/>
                                    <field name="customer"/>
                                    <field name="display_name"/>
                                    <field name="supplier"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                            <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                                <a t-if="!read_only_mode" type="delete"
                                                   class="fa fa-times pull-right"/>
                                                <div class="o_kanban_image">
                                                    <img t-if="record.image_small.raw_value"
                                                         t-att-src="'data:image/png;base64,'+record.image_small.raw_value"/>
                                                    <t t-if="!record.image_small.raw_value">
                                                        <img t-if="record.type.raw_value === 'delivery'"
                                                             t-att-src='_s + "/base/static/src/img/truck.png"'/>
                                                        <img t-if="record.type.raw_value === 'invoice'"
                                                             t-att-src='_s + "/base/static/src/img/money.png"'/>
                                                        <t t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'">
                                                            <img t-if="record.is_company.raw_value === true"
                                                                 t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                                            <img t-if="record.is_company.raw_value === false"
                                                                 t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="oe_kanban_details">
                                                    <span>优先级
                                                        <field name="sequence"/>
                                                    </span>
                                                    <span>
                                                        <field name="type"/>:
                                                    </span>
                                                    <field name="name"/>
                                                    <div t-if="record.function.raw_value">
                                                        <field name="function"/>
                                                    </div>
                                                    <div t-if="record.email.raw_value">
                                                        <field name="email" widget="email"/>
                                                    </div>
                                                    <div t-if="record.type.raw_value != 'contact'">
                                                        <div>
                                                            <field name="zip"/>
                                                            <field name="city"/>
                                                        </div>
                                                        <field t-if="record.state_id.raw_value" name="state_id"/>
                                                        <field name="country_id"/>
                                                    </div>
                                                    <div t-if="record.phone.raw_value">Phone:
                                                        <field name="phone"/>
                                                    </div>
                                                    <div t-if="record.mobile.raw_value">Mobile:
                                                        <field name="mobile"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban-->
                                    <form string="联系人">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address"
                                                   widget="radio" options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>
                                            <group>

                                                <group>
                                                    <field name="is_company" invisible="1"/>
                                                    <field name="name" string="姓名"
                                                           attrs="{'required' : [('type', '=', 'contact')]}"/>
                                                    <field name="title" placeholder="e.g. Mr." invisible="1"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="function" placeholder="e.g. Sales Director"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="phone" widget="phone"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="mobile" widget="phone"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="email"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="wechat"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="skype"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="qq"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="sequence" groups="base.group_system"/>
                                                    <field name="comment_contact" placeholder="note..."
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>

                                                    <field name="is_inter_partner" groups="base.group_system"/>
                                                </group>
                                                <group>  <!--attrs="{'invisible': [('type','=', 'contact')]}"-->
                                                    <label for="street" string="详细地址"/>
                                                    <div>
                                                        <div class="o_address_format" name="div_address">
                                                            <field name="street" placeholder="Street..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                            <field name="street2" placeholder="Street 2..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '==', 'delivery')]}"/>
                                                            <field name="city" placeholder="City" class="o_address_city"
                                                                   invisible="1"/>
                                                            <field name="state_id" class="o_address_state" invisible="1"
                                                                   placeholder="State"
                                                                   options='{"no_open": True}'
                                                                   context="{'country_id': country_id, 'zip': zip}"/>
                                                            <field name="zip" placeholder="ZIP" invisible="1"
                                                                   class="o_address_zip"/>
                                                            <field name="country_id" placeholder="Country"
                                                                   class="o_address_country"
                                                                   attrs="{'required':[('customer','=',True),('is_inter_partner','=',False)],}"
                                                                   options='{"no_open": True, "no_create": True}'/>
                                                        </div>
                                                    </div>
                                                </group>
                                            </group>
                                            <field name="supplier" invisible="True"/>

                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>

                                </field>
                            </page>
                            <page string="客户经营产品*"
                                  attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                <field name="customer_product_origin_ids" nolabel="1" string="客户经营产品">
                                    <tree editable="bottom">
                                        <field name="name" required="1"/>
                                        <field name="description"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="客户交货信息"
                                  attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">

                                <field name="child_delivery_ids" mode="tree,kanban" context="{'default_parent_id': active_id, 'default_street': street, 'default_street2': street2,
                                               'default_city': city, 'default_state_id': state_id, 'default_zip': zip, 'default_country_id': country_id,
                                               'default_supplier': supplier, 'default_customer': customer, 'default_lang': lang,'default_type1':'delivery'}">

                                    <tree>
                                        <field name="name"/>
                                        <field name="country_id"/>
                                        <field name="type" invisible="1"/>
                                        <field name="invoice_title"
                                               attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                        <field name="wharf_src_id" attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                        <field name="wharf_dest_id"
                                               attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                    </tree>
                                    <kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="state_id"/>
                                        <field name="image_small"/>
                                        <field name="lang"/>
                                        <!-- fields in form x2many view to diminish requests -->
                                        <field name="comment"/>
                                        <field name="customer"/>
                                        <field name="display_name"/>
                                        <field name="supplier"/>
                                        <templates>
                                            <t t-name="kanban-box">
                                                <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                                <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                                    <a t-if="!read_only_mode" type="delete"
                                                       class="fa fa-times pull-right"/>
                                                    <div class="o_kanban_image">
                                                        <img t-if="record.image_small.raw_value"
                                                             t-att-src="'data:image/png;base64,'+record.image_small.raw_value"/>
                                                        <t t-if="!record.image_small.raw_value">
                                                            <img t-if="record.type.raw_value === 'delivery'"
                                                                 t-att-src='_s + "/base/static/src/img/truck.png"'/>
                                                            <img t-if="record.type.raw_value === 'invoice'"
                                                                 t-att-src='_s + "/base/static/src/img/money.png"'/>
                                                            <t t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'">
                                                                <img t-if="record.is_company.raw_value === true"
                                                                     t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                                                <img t-if="record.is_company.raw_value === false"
                                                                     t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                                            </t>
                                                        </t>
                                                    </div>
                                                    <div class="oe_kanban_details">
                                                        <span>优先级
                                                            <field name="sequence"/>
                                                        </span>
                                                        <span>
                                                            <field name="type"/>:
                                                        </span>
                                                        <field name="name"/>
                                                        <div t-if="record.function.raw_value">
                                                            <field name="function"/>
                                                        </div>
                                                        <div t-if="record.email.raw_value">
                                                            <field name="email" widget="email"/>
                                                        </div>
                                                        <div t-if="record.type.raw_value != 'contact'">
                                                            <div>
                                                                <field name="zip"/>
                                                                <field name="city"/>
                                                            </div>
                                                            <field t-if="record.state_id.raw_value" name="state_id"/>
                                                            <field name="country_id"/>
                                                        </div>
                                                        <div t-if="record.phone.raw_value">Phone:
                                                            <field name="phone"/>
                                                        </div>
                                                        <div t-if="record.mobile.raw_value">Mobile:
                                                            <field name="mobile"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </t>
                                        </templates>
                                    </kanban>
                                    <form string="客户交货地址">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address"
                                                   widget="radio" options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>
                                            <group>

                                                <group>
                                                    <field name="is_company" invisible="1"/>
                                                    <field name="name" string="编号(001开始)"
                                                           attrs="{'required' : ['|',('type', '=', 'contact'),('type', '=', 'delivery')]}"/>
                                                    <field name="country_id" placeholder="Country" string="目的国"
                                                           class="o_address_country"
                                                           attrs="{'required':[('customer','=',True),('is_inter_partner','=',False)],}"
                                                           options='{"no_open": True, "no_create": True}'/>
                                                    <field name="title" placeholder="e.g. Mr." invisible="1"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="function" placeholder="e.g. Sales Director"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="phone" widget="phone"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="mobile" widget="phone"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="email"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="wechat"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="skype"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="qq"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="sequence"/>
                                                    <field name="comment_contact" placeholder="note..."
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>

                                                    <field name="invoice_title"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                                    <field name="wharf_src_id"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                                    <field name="wharf_dest_id"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                                    <field name="notice_man"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                                    <field name="delivery_man"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"
                                                           string="收货人"/>


                                                </group>
                                                <group>  <!--attrs="{'invisible': [('type','=', 'contact')]}"-->
                                                    <label for="street" string="地址/国别" invisible="1"/>
                                                    <div invisible="1">
                                                        <div class="o_address_format" name="div_address">
                                                            <field name="street" placeholder="Street..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                            <field name="street2" placeholder="Street 2..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '==', 'delivery')]}"/>
                                                            <field name="city" placeholder="City" class="o_address_city"
                                                                   invisible="1"/>
                                                            <field name="state_id" class="o_address_state" invisible="1"
                                                                   placeholder="State"
                                                                   options='{"no_open": True}'
                                                                   context="{'country_id': country_id, 'zip': zip}"/>
                                                            <field name="zip" placeholder="ZIP" invisible="1"
                                                                   class="o_address_zip"/>
                                                        </div>
                                                    </div>
                                                    <field name="exchange_type_ids" widget="many2many_tags"
                                                           string="付款方式"
                                                           attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>

                                                    <!-- field name="mark_ids" widget="many2many_tags"/-->

                                                    <field name="mark_text"
                                                           attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>

                                                    <!--label for="mark_comb_ids"/>
                                                    <div colspan="2">
                                                           <field name="mark_comb_ids"  attrs="{'invisible': [('type', '!=', 'delivery')]}">
                                                               <tree>
                                                                <field name="name"/>
                                                                <field name="description_mark"/>
                                                              </tree>


                                                            </field>
                                                    </div-->
                                                    <field name="demand_info"
                                                           attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>
                                                    <field name="is_inter_partner" groups="base.group_system"/>
                                                </group>
                                            </group>
                                            <field name="supplier" invisible="True"/>
                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>

                                </field>
                            </page>


                            <page string="客户采购产品"
                                  attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                <field name="customer_product_ids"/>
                            </page>
                            <!--page string="交单要求" name="demand" >
                           <group>
                               <field name="invoice_title"/>
                               <field name="wharf_src_id"/>
                               <field name="wharf_dest_id"/>
                               <field name="notice_man"/>
                               <field name="delivery_man"/>
                           </group>
                           <group>
                               <field name="exchange_type_ids"/-->
                            <!-- field name="mark_ids" widget="many2many_tags"/-->
                            <!--field name="mark_comb_ids"/>
                            <field name="demand_info"/>
                        </group>
                    </page-->
                            <page string="销售合同后置条款"
                                  attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                <field name="term_description" attrs="{'invisible':[('customer','=',False)]}"/>
                            </page>
                            <page string="采购合同后置条款"
                                  attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}">
                                <field name="term_purchase"/>
                            </page>
                            <page name='internal_notes' groups="base.group_system" string="Internal Notes"
                                  attrs="{'invisible':['|',('type','=','delivery'),('is_company','!=',True)]}">
                                <group colspan="2" col="2" groups="purchase.group_warning_purchase">
                                    <separator string="Warning on the Purchase Order" colspan="4"/>
                                    <field name="purchase_warn" nolabel="1"/>
                                    <field name="purchase_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('purchase_warn','!=','no-message')],'readonly':[('purchase_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="sale.group_warning_sale">
                                    <separator string="Warning on the Sales Order" colspan="4"/>
                                    <field name="sale_warn" nolabel="1"/>
                                    <field name="sale_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('sale_warn','!=','no-message')],'readonly':[('sale_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="account.group_warning_account">
                                    <separator string="Warning on the Invoice" colspan="4"/>
                                    <field name="invoice_warn" nolabel="1"/>
                                    <field name="invoice_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('invoice_warn','!=','no-message')],'readonly':[('invoice_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="stock.group_warning_stock">
                                    <separator string="Warning on the Picking" colspan="4"/>
                                    <field name="picking_warn" nolabel="1"/>
                                    <field name="picking_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('picking_warn','!=','no-message')],'readonly':[('picking_warn','=','no-message')]}"/>
                                </group>

                            </page>

                            <page groups="base.group_system" string="Invoicing" name="accounting">
                                <group>
                                    <group string="Sale" name="acc_sale"
                                           attrs="{'invisible':['|','|',('customer','=',False),('type','=','delivery'),('is_company','!=',True)]}">

                                        <field name="trust" groups="base.group_no_one"/>
                                    </group>
                                    <group string="Purchase" name="acc_purchase"
                                           attrs="{'invisible':['|','|',('supplier','=',False),('type','=','delivery'),('is_company','!=',True)]}">
                                        <field name="property_supplier_payment_term_id"
                                               domain="[('type','=','purchase')]" widget="selection"/>
                                        <field name="auto_yfsqd"/>
                                        <field name="currency_id" invisible="1"/>
                                    </group>
                                    <group string="Fiscal Information" name="fiscal_information">
                                        <field name="property_account_position_id"
                                               options="{'no_create': True, 'no_open': True}"/>
                                    </group>
                                    <group string="Accounting Entries" name="accounting_entries"
                                           groups="account.group_account_user">
                                        <field name="property_account_receivable_id"/>
                                        <field name="property_account_payable_id"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Invoicing" groups="base.group_system" name="accounting_disabled"
                                  attrs="{'invisible': ['|',('is_company','=',True),('parent_id','=',False)]}">
                                <div>
                                    <p>Accounting-related settings are managed on
                                        <button name="open_commercial_entity" type="object" string="the parent company"
                                                class="oe_link"/>
                                    </p>
                                </div>
                            </page>
                            <page name='sales_purchases' string="Sales &amp; Purchases" groups="base.group_system">

                                <group string="Sale" name="sale">
                                    <field name="customer"/>
                                    <field name="opt_out" string="Mailing Opt-Out" groups="base.group_no_one"/>
                                    <field name="property_product_pricelist" groups="product.group_sale_pricelist"
                                           attrs="{'invisible': [('is_company','=',False),('parent_id','!=',False)]}"/>
                                    <div name="parent_pricelists" groups="product.group_sale_pricelist" colspan="2"
                                         attrs="{'invisible': ['|',('is_company','=',True),('parent_id','=',False)]}">
                                        <p>Pricelists are managed on
                                            <button name="open_commercial_entity" type="object"
                                                    string="the parent company" class="oe_link"/>
                                        </p>
                                    </div>
                                    <field name="message_bounce" groups="base.group_no_one"/>
                                </group>
                                <group string="Purchase" name="purchase">

                                    <field name="supplier"/>
                                </group>
                                <group name="container_row_2">
                                    <group string="Payments" name="banks">
                                        <field name="currency_id" invisible="1"/>
                                        <div>
                                            <button type="action" class="btn-link" name="56"
                                                    context="{'search_default_partner_id': active_id, 'default_partner_id': active_id}">
                                                <field string="Bank account(s)" name="bank_account_count"
                                                       widget="statinfo"/>
                                            </button>
                                        </div>

                                    </group>
                                    <group string="Misc">
                                        <field name="ref"/>
                                        <field name="company_id" groups="base.group_multi_company"
                                               options="{'no_create': True}"/>
                                        <field name="industry_id" attrs="{'invisible': [('is_company', '=', False)]}"
                                               options="{'no_create': True}"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <!--akiny客户form-->
        <record id="view_new_customer_form" model="ir.ui.view">
            <field name="name">res.partner.customer.form.new</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form string="客户">
                    <header groups="base.group_system">
                        <button name="action_done" string="确认" type="object" class="btn-primary"
                                states="approve"/>
                        <button name="action_cancel" string="取消" type="object" class="btn-primary"
                                states="draft"/>
                        <button name="action_draft" string="存为草稿" type="object" class="btn-primary"
                                states="draft"/>
                        <field name="state" statusbar_invisible="draft" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box" groups="base.group_system">
                            <button type="object" class="oe_stat_button" icon="fa-pencil-square-o"
                                    name="action_view_partner_invoices_new"
                                    attrs="{'invisible': [('customer', '=', False)]}">
                                <div class="o_form_field o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="total_invoiced" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </span>
                                    <span class="o_stat_text">Invoiced</span>
                                </div>
                            </button>
                            <button class="oe_stat_button" type="object" name="action_open_helpdesk_ticket"
                                    context="{'default_partner_id': active_id}" icon="fa-life-ring"
                                    attrs="{'invisible': [('ticket_count', '=', 0)]}">
                                <div class="o_stat_info">
                                    <field name="ticket_count" class="o_stat_value"/>
                                    <span class="o_stat_text">Tickets</span>
                                </div>
                            </button>
                            <contactsync/>
                            <button type="object" name="open_messsage" class="oe_stat_button" icon="fa-envelope"
                                    string="查看消息" groups="base.group_system" invisible="1"/>

                            <button name="partner_messages" type="object" class="oe_stat_button" icon="fa-envelope"
                                    attrs="{'invisible': [('messages_from_count', '=', 0)]}"
                                    context="{'open_mode': 'from'}">
                                <field name="messages_from_count" widget="statinfo" string="Author"/>
                            </button>
                            <button name="partner_messages" type="object" class="oe_stat_button" icon="fa-envelope"
                                    attrs="{'invisible': [('messages_to_count', '=', 0)]}"
                                    context="{'open_mode': 'to'}">
                                <field name="messages_to_count" widget="statinfo" string="Recipient"/>
                            </button>
                            <button class="oe_stat_button o_res_partner_tip_opp" type="action"
                                    attrs="{'invisible': [('customer', '=', False)]}" name="383" icon="fa-star"
                                    context="{'search_default_partner_id': active_id}">
                                <field string="Opportunities" name="opportunity_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="object" name="schedule_meeting" icon="fa-calendar"
                                    context="{'partner_id': active_id, 'partner_name': name}">
                                <field string="Meetings" name="meeting_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="website_publish_button" type="object" icon="fa-globe">
                                <field name="website_published" widget="website_button"/>
                            </button>
                            <button type="object" class="oe_stat_button" id="partner_ledger_button"
                                    icon="fa-pencil-square-o" name="open_partner_ledger"
                                    context="{'default_partner_id': active_id}">
                                <field name="partner_ledger_label"/>
                            </button>

                            <button type="object" class="oe_stat_button" name="open_action_followup"
                                    groups="account.group_account_user" icon="fa-list"
                                    attrs="{'invisible': [('credit', '=', 0)]}">
                                <div class="o_field_widget o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="credit" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </span>
                                    <span class="o_stat_text">Due</span>
                                </div>
                            </button>
                            <button class="oe_stat_button" type="action" name="274" invisible="1"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <field string="Sales" name="sale_order_count" widget="statinfo"/>
                            </button>
                            <button name="open_sale_order" class="oe_stat_button" type="object"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <span class="o_stat_text">销售预收情况</span>
                            </button>
                            <button name="open_advance" class="oe_stat_button" type="object"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <span class="o_stat_text">预收认领列表</span>
                            </button>
                            <button class="oe_stat_button" name="347" type="action"
                                    attrs="{'invisible': [('supplier', '=', False)]}" icon="fa-shopping-cart">
                                <field string="Purchases" name="purchase_order_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="348" type="action"
                                    attrs="{'invisible': [('supplier', '=', False)]}" icon="fa-pencil-square-o"
                                    help="Vendor Bills">
                                <field string="Vendor Bills" name="supplier_invoice_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="action" name="206" icon="fa-book"
                                    groups="analytic.group_analytic_accounting">
                                <field string="Analytic Accounts" name="contracts_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="action" name="624"
                                    context="{'search_default_partner_id': active_id, 'default_partner_id': active_id}"
                                    attrs="{'invisible': [('task_count', '=', 0)]}" icon="fa-tasks">
                                <field string="Tasks" name="task_count" widget="statinfo"/>
                            </button>
                            <button name="toggle_active" type="object"
                                    class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button"
                                       options='{"terminology": "archive"}'/>
                            </button>
                            <field name="is_editable" widget="boolean_toggle"/>
                        </div>
                        <field name="image" widget='image' class="oe_avatar"
                               options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                        <div class="oe_title">
                            <field name="is_company" invisible="1"/>
                            <field name="commercial_partner_id" invisible="1"/>
                            <field name="company_type" widget="radio"
                                   class="oe_edit_only" invisible="1"
                                   options="{'horizontal': true}"/>
                            <div attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                客户简称：
                            </div>

                            <h1>
                                <field name="name" default_focus="1" widget="field_clearbit" placeholder="客户简称"
                                       attrs="{'required' : [('type', '=', 'contact')],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                            </h1>

                            <div class="o_row">
                                <field name="code" readonly="1"/>
                                <button name="generate_code" type="object" string="生成编码" groups="base.group_system"/>
                                <field name="parent_id"
                                       placeholder="Company"
                                       domain="[('is_company', '=', True)]"
                                       context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer}"
                                       attrs="{'invisible': ['|', '&amp;', ('is_company','=', True),('parent_id', '=', False),('company_name', '!=', False),('company_name', '!=', '')]}"/>
                                <field name="company_name"
                                       attrs="{'invisible': ['|', '|', ('company_name', '=', False), ('company_name', '=', ''), ('is_company', '=', True)]}"/>
                                <button name="create_company" type="object" string="Create company"
                                        class="btn btn-sm oe_edit_only fa fa-external-link btn btn-link "
                                        attrs="{'invisible': ['|', '|', ('is_company','=', True), ('company_name', '=', ''), ('company_name', '=', False)]}"/>
                            </div>
                        </div>

                        <group col="3">
                            <group>
                                <field name="type" invisible="1" attrs="{'invisible': [('parent_id','=', False)]}"
                                       groups="base.group_no_one,sale.group_delivery_invoice_address"/>
                                <field name="full_name" string="客户公司全称"
                                       attrs="{'invisible':[('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                <!--label for="country_id" string="业务国" attrs="{'invisible':[('type','!=','delivery')]}"/>
                                <label for="country_id" string="所在国" attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_row"-->
                                <field name="country_id" placeholder="Country" string="公司所在国"
                                       class="o_address_country"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'readonly': [('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                <!--/div-->
                                <field name="jituan_id" string="所属集团" help="如果没有请填写无"
                                       domain="['|',('partner_type','=','customer'),('partner_type','=',False)]"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="sale_currency_id" options="{'no_open':1}"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="property_payment_term_id" help="做销售合同时，预设的付款条款和订单选择的条款有出入时，会标注红色"
                                       domain="[('type','=','sale')]"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       widget="selection"/>

                                <separator string="" colspan="2"/>
                                <!--separator string="联系方式" style="border-bottom:1px #000000 solid" colspan="2"/-->

                                <!--div colspan="2" invisible="1">
                                <div style="min-width: 110px;float:left;font-weight:bolder">
                                    <span attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}">供应商地址</span>
                                <span attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">客户地址</span>
                                    <span attrs="{'invisible': ['|',('type','=','delivery'),('is_company','=',True)]}">联系人地址</span></div>
                                <div style="float:left;word-wrap: break-word; width: 55%">
                                  <field name="address_text" style="float:left;width:100%;"/>
                                </div>
                                </div-->
                                <label for="street" string="详细地址" groups="base.group_system"
                                       attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_address_format" groups="base.group_system"
                                     attrs="{'invisible':[('type','=','delivery')]}">
                                    <div class="oe_edit_only">
                                        <button name="open_parent" type="object" string="(edit)" class="oe_link"
                                                attrs="{'invisible': ['|', ('parent_id', '=', False), ('type', '!=', 'contact')]}"/>
                                    </div>

                                    <field name="street" placeholder="Street..." class="o_address_street"
                                           groups="base.group_system"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="street2" placeholder="Street 2..." class="o_address_street"
                                           groups="base.group_system"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="city" placeholder="City" class="o_address_city"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1"/>
                                    <field name="state_id" class="o_address_state" placeholder="State"
                                           options='{"no_open": True}'
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1" context="{'country_id': country_id, 'zip': zip}"/>
                                    <field name="zip" placeholder="ZIP" class="o_address_zip"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1"/>
                                </div>
                                <label for="phone" attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_row" attrs="{'invisible':[('type','=','delivery')]}">
                                    <field name="phone" placeholder="不知道填写：不详，没有填写：无" widget="phone"
                                           attrs="{'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                    <!--button type="action" name="126" class="btn-xs btn-link mb4 fa fa-envelope-o" attrs="{'invisible':[('phone', '=', False)]}" context="{'field_name': 'phone'}"/-->
                                </div>
                                <field name="fax" placeholder="不知道填写：不详，没有填写：无"
                                       attrs="{'readonly':[('state','not in',['draft','check']),('is_editable','=',False)],'invisible':[('type','=','delivery')]}"/>
                                <field name="website" placeholder="不知道填写：不详，没有填写：无"
                                       attrs="{'readonly':[('state','not in',['draft','check']),('is_editable','=',False)],'invisible':['|',('type','=','delivery'),('is_company','!=',True)]}"/>
                                <field name="address_text" class="o_address_street"
                                       attrs="{'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="is_child_ids" invisible="1"/>
                            </group>
                            <group>
                                <field name="level" string="客户等级" invisible="1"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="partner_level" widget="selection" domain="[('type','=','customer')]"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="function" placeholder="e.g. Sales Director"
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','=',True)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                <field name="user_ids" invisible="1"/>
                                <field name="is_inter_partner" groups="base.group_system"/>
                                <field name="contract_type"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="gongsi_id" options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="purchase_gongsi_id" options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="partner_source_id" string="客户来源"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       domain="[('type','=','customer')]"/>


                                <field name="customer_info_from_uid" help="可以是公司内部人员，也可以是外部人员，如果找不到，请联系合规负责人添加"
                                       domain="[('is_company','=',False),('is_inter_partner','=',True)]"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                <field name="devloper_id" string="客户开发人" help="可以是公司内部人员，也可以是外部人员，如果找不到，请联系合规负责人添加"
                                       domain="[('is_company','=',False),('is_inter_partner','=',True)]"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="user_id" string="目前客户负责人" options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="assistant_id" string="销售助理" help="如果和负责人是同一人，请选择相同的用户"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="product_manager_id" invisible="1"/>


                            </group>
                            <group>

                                <field name="vat" invisible="1" placeholder="e.g. BE0477472701"
                                       attrs="{'readonly': [('parent_id','!=',False)]}"/>
                                <field name="category_id" invisible="1" widget="many2many_tags"
                                       options="{'color_field': 'color', 'no_create_edit': True}"
                                       placeholder="Tags..."/>
                                <field name="lang" invisible="1"/>

                                <label for="customer_purchase_in_china" colspan="2"/>
                                <div colspan="2">
                                    <field name="customer_purchase_in_china" placeholder="不知道填写：不详，没有填写：无"
                                           attrs="{'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                    <span style="margin-left:3px"
                                          attrs="{'invisible':1}">
                                        <field name="customer_purchase_in_china_note" placeholder="填写备注..."/>
                                    </span>
                                </div>

                                <label for="customer_sale_total" colspan="2"/>
                                <div colspan="2">
                                    <field name="customer_sale_total" placeholder="不知道填写：不详，没有填写：无" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                    <span style="margin-left:3px" attrs="{'invisible':1}">
                                        <field name="customer_sale_total_note" placeholder="填写备注..."/>
                                    </span>
                                </div>

                                <label for="comment" colspan="2"/>
                                <div colspan="2">
                                    <field name="comment" placeholder="内部备注..." attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                </div>
                            </group>
                        </group>

                        <notebook colspan="4">
                            <page string="Contacts &amp; Addresses" autofocus="autofocus" groups="base.group_system">
                                <field name="child_ids" mode="tree,kanban" domain="[('type','=','contact')]"
                                       context="{'default_parent_id': active_id, 'default_street': street,
                                    'default_street2': street2, 'default_city': city, 'default_state_id': state_id,
                                    'default_zip': zip, 'default_country_id': country_id, 'default_supplier': supplier,
                                    'default_customer': customer, 'default_lang': lang}">
                                    <tree group_by="name">
                                        <field name="name" string="Contact Name"
                                               attrs="{'required' : [('type', '=', 'contact')]}"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="country_id"/>
                                        <field name="phone"/>
                                    </tree>


                                    <!--kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="state_id"/>
                                        <field name="image_small"/>
                                        <field name="lang"/-->
                                    <!-- fields in form x2many view to diminish requests -->
                                    <!--field name="comment"/>
                                    <field name="customer"/>
                                    <field name="display_name"/>
                                    <field name="supplier"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                            <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                                <a t-if="!read_only_mode" type="delete" class="fa fa-times pull-right"/>
                                                <div class="o_kanban_image">
                                                    <img t-if="record.image_small.raw_value" t-att-src="'data:image/png;base64,'+record.image_small.raw_value"/>
                                                    <t t-if="!record.image_small.raw_value">
                                                        <img t-if="record.type.raw_value === 'delivery'" t-att-src='_s + "/base/static/src/img/truck.png"'/>
                                                        <img t-if="record.type.raw_value === 'invoice'" t-att-src='_s + "/base/static/src/img/money.png"'/>
                                                        <t t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'">
                                                            <img t-if="record.is_company.raw_value === true" t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                                            <img t-if="record.is_company.raw_value === false" t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="oe_kanban_details">
                                                       <span>优先级<field name="sequence"/></span>
                                                      <span>
                                                         <field name="type"/>:
                                                      </span>
                                                    <field name="name"/>
                                                    <div t-if="record.function.raw_value"><field name="function"/></div>
                                                    <div t-if="record.email.raw_value"><field name="email" widget="email"/></div>
                                                    <div t-if="record.type.raw_value != 'contact'">
                                                        <div>
                                                            <field name="zip"/>
                                                            <field name="city"/>
                                                        </div>
                                                        <field t-if="record.state_id.raw_value" name="state_id"/>
                                                        <field name="country_id"/>
                                                    </div>
                                                    <div t-if="record.phone.raw_value">Phone: <field name="phone"/></div>
                                                    <div t-if="record.mobile.raw_value">Mobile: <field name="mobile"/></div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban-->
                                    <form string="Contact / Address">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>
                                            <group>

                                                <group>
                                                    <field name="is_company" invisible="1"/>
                                                    <field name="name" string="联系人"
                                                           attrs="{'required' : [('type', '=', 'contact')]}"/>
                                                    <field name="title" placeholder="e.g. Mr." invisible="1"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="function" placeholder="e.g. Sales Director"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="phone" widget="phone"/>
                                                    <field name="mobile" widget="phone"/>
                                                    <field name="email"/>
                                                    <field name="wechat"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="skype"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="qq"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="sequence"/>
                                                    <field name="comment_contact" placeholder="note..."
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                </group>
                                                <group>  <!--attrs="{'invisible': [('type','=', 'contact')]}"-->
                                                    <label for="street" string="地址"/>
                                                    <div>
                                                        <div class="o_address_format" name="div_address">
                                                            <field name="street" placeholder="Street..."
                                                                   class="o_address_street"/>
                                                            <field name="street2" placeholder="Street 2..."
                                                                   class="o_address_street"/>
                                                            <field name="city" placeholder="City" class="o_address_city"
                                                                   invisible="1"/>
                                                            <field name="state_id" class="o_address_state" invisible="1"
                                                                   placeholder="State" options='{"no_open": True}'
                                                                   context="{'country_id': country_id, 'zip': zip}"/>
                                                            <field name="zip" placeholder="ZIP" invisible="1"
                                                                   class="o_address_zip"/>
                                                            <field name="country_id" placeholder="Country"
                                                                   class="o_address_country"
                                                                   options='{"no_open": True, "no_create": True}'/>
                                                        </div>
                                                    </div>
                                                </group>
                                            </group>
                                            <field name="supplier" invisible="True"/>
                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>
                                </field>
                            </page>

                            <page string="联系人"
                                  attrs="{'invisible':['|',('type','=','delivery'),('is_company','!=',True)]}">

                                <field name="child_contact_ids" mode="tree,kanban" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       context="{'default_parent_id': active_id, 'default_street': street,'default_address_text': address_text,
                                       'default_street2': street2, 'default_zip': zip, 'default_country_id': country_id,
                                                 'default_supplier': supplier, 'default_customer': customer, 'default_lang': lang}">
                                    <tree class="o_list_scroll" editable="bottom">
                                        <field name="name" string="姓名"
                                               attrs="{'required' : [('type', '=', 'contact')]}"/>
                                        <field name="country_id"/>
                                        <field name="function"/>
                                        <field name="phone" help="电话手机二选一"/>
                                        <field name="mobile" help="电话手机二选一"/>
                                        <field name="email" help="电子邮箱社交帐号二选一"/>
                                        <field name="other_social_accounts" placeholder="微信、tweet，facebook等社交账号"/>
                                        <field name="type" invisible="1"/>
                                        <field name="wechat" invisible="1"/>
                                        <field name="skype" invisible="1"/>
                                        <field name="qq" invisible="1"/>
                                        <field name="comment_contact" help="电子邮箱社交帐号二选一" placeholder="例:该联系人是价格最后决策人"/>
                                        <field name="birthday" widget="date"/>
                                        <field name="address_text"/>
                                        <field name="street" invisible="1"/>
                                        <field name="street2" invisible="1"/>
                                        <field name="customer" invisible="1"/>
                                        <field name="supplier" invisible="1"/>
                                        <field name="lang" invisible="1"/>
                                    </tree>

                                    <!--kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="state_id"/>
                                        <field name="image_small"/>
                                        <field name="lang"/-->
                                    <!-- fields in form x2many view to diminish requests -->
                                    <!--field name="comment"/>
                                    <field name="customer"/>
                                    <field name="display_name"/>
                                    <field name="supplier"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                            <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                                <a t-if="!read_only_mode" type="delete"
                                                   class="fa fa-times pull-right"/>
                                                <div class="o_kanban_image">
                                                    <img t-if="record.image_small.raw_value"
                                                         t-att-src="'data:image/png;base64,'+record.image_small.raw_value"/>
                                                    <t t-if="!record.image_small.raw_value">
                                                        <img t-if="record.type.raw_value === 'delivery'"
                                                             t-att-src='_s + "/base/static/src/img/truck.png"'/>
                                                        <img t-if="record.type.raw_value === 'invoice'"
                                                             t-att-src='_s + "/base/static/src/img/money.png"'/>
                                                        <t t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'">
                                                            <img t-if="record.is_company.raw_value === true"
                                                                 t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                                            <img t-if="record.is_company.raw_value === false"
                                                                 t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="oe_kanban_details">
                                                    <span>优先级
                                                        <field name="sequence"/>
                                                    </span>
                                                    <span>
                                                        <field name="type"/>:
                                                    </span>
                                                    <field name="name"/>
                                                    <div t-if="record.function.raw_value">
                                                        <field name="function"/>
                                                    </div>
                                                    <div t-if="record.email.raw_value">
                                                        <field name="email" widget="email"/>
                                                    </div>
                                                    <div t-if="record.type.raw_value != 'contact'">
                                                        <div>
                                                            <field name="zip"/>
                                                            <field name="city"/>
                                                        </div>
                                                        <field t-if="record.state_id.raw_value" name="state_id"/>
                                                        <field name="country_id"/>
                                                    </div>
                                                    <div t-if="record.phone.raw_value">Phone:
                                                        <field name="phone"/>
                                                    </div>
                                                    <div t-if="record.mobile.raw_value">Mobile:
                                                        <field name="mobile"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban-->
                                    <form string="联系人">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="base.group_system" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="base.group_system"
                                                   widget="radio" options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>
                                            <group>

                                                <group>
                                                    <field name="is_company" invisible="1"/>
                                                    <field name="name" string="姓名"
                                                           attrs="{'required' : [('type', '=', 'contact')]}"/>
                                                    <field name="title" placeholder="e.g. Mr." invisible="1"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="function" placeholder="e.g. Sales Director"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="phone" widget="phone"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="mobile" widget="phone"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="email"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="other_social_accounts"
                                                           placeholder="微信、tweet，facebook等社交账号"/>
                                                    <field name="sequence" groups="base.group_system"/>
                                                    <field name="comment_contact" placeholder="note..."
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>

                                                    <field name="is_inter_partner" groups="base.group_system"/>
                                                </group>
                                                <group>  <!--attrs="{'invisible': [('type','=', 'contact')]}"-->

                                                    <field name="address_text"/>

                                                    <label for="street" string="详细地址" invisible="1"/>
                                                    <div invisible="1">
                                                        <div class="o_address_format" name="div_address">
                                                            <field name="street" placeholder="Street..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                            <field name="street2" placeholder="Street 2..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '==', 'delivery')]}"/>
                                                            <field name="city" placeholder="City" class="o_address_city"
                                                                   invisible="1"/>
                                                            <field name="state_id" class="o_address_state" invisible="1"
                                                                   placeholder="State"
                                                                   options='{"no_open": True}'
                                                                   context="{'country_id': country_id, 'zip': zip}"/>
                                                            <field name="zip" placeholder="ZIP" invisible="1"
                                                                   class="o_address_zip"/>
                                                            <field name="country_id" placeholder="Country"
                                                                   class="o_address_country"

                                                                   options='{"no_open": True, "no_create": True}'/>
                                                            <field name="customer" invisible="1"/>
                                                            <field name="supplier" invisible="1"/>
                                                            <field name="lang" invisible="1"/>
                                                        </div>
                                                    </div>
                                                </group>
                                            </group>
                                            <field name="supplier" invisible="True"/>

                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>

                                </field>
                            </page>

                            <page string="客户经营产品"
                                  attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],}">
                                <field name="customer_product_origin_ids" nolabel="1" string="客户经营产品" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}">
                                    <tree editable="bottom">
                                        <field name="name" required="1"/>
                                        <field name="description"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="客户交货信息"
                                  attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],}">

                                <field name="child_delivery_ids" mode="tree,kanban"
                                       attrs="{'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       context="{'default_parent_id': active_id, 'default_street': street, 'default_street2': street2,
                                               'default_city': city, 'default_state_id': state_id, 'default_zip': zip,
                                               'default_supplier': supplier, 'default_customer': customer, 'default_lang': lang,'default_type1':'delivery'}">

                                    <tree class="o_list_scroll" editable="bottom">
                                        <field name="name" string="收货人抬头" groups="base.group_system"/>
                                        <field name="invoice_title" string="境外收货人(报关单)"
                                               attrs="{'invisible': [('type', '!=', 'delivery')],'required' :1}"/>
                                        <field name="country_id" string="业务国" required="1"/>
                                        <field name="type" invisible="1"/>
                                        <field name="type1" invisible="1"/>
                                        <field name="wharf_src_id" attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                        <field name="wharf_dest_id"
                                               attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                        <field name="notice_man"
                                               attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                        <field name="delivery_man"
                                               attrs="{'invisible': [('type', '!=', 'delivery')]}"
                                               string="收货人"/>
                                        <field name="exchange_type_ids" widget="many2many_tags"
                                               string="交单方式"
                                        />


                                        <field name="mark_text"/>


                                        <field name="demand_info"/>

                                        <field name="is_inter_partner" groups="base.group_system"/>
                                        <field name="customer" invisible="1"/>
                                        <field name="supplier" invisible="1"/>
                                        <field name="lang" invisible="1"/>

                                    </tree>
                                    <!--kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="state_id"/>
                                        <field name="image_small"/>
                                        <field name="lang"/-->
                                    <!-- fields in form x2many view to diminish requests -->
                                    <!--field name="comment"/>
                                    <field name="customer"/>
                                    <field name="display_name"/>
                                    <field name="supplier"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                            <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                                <a t-if="!read_only_mode" type="delete"
                                                   class="fa fa-times pull-right"/>
                                                <div class="o_kanban_image">
                                                    <img t-if="record.image_small.raw_value"
                                                         t-att-src="'data:image/png;base64,'+record.image_small.raw_value"/>
                                                    <t t-if="!record.image_small.raw_value">
                                                        <img t-if="record.type.raw_value === 'delivery'"
                                                             t-att-src='_s + "/base/static/src/img/truck.png"'/>
                                                        <img t-if="record.type.raw_value === 'invoice'"
                                                             t-att-src='_s + "/base/static/src/img/money.png"'/>
                                                        <t t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'">
                                                            <img t-if="record.is_company.raw_value === true"
                                                                 t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                                            <img t-if="record.is_company.raw_value === false"
                                                                 t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="oe_kanban_details">
                                                    <span>优先级
                                                        <field name="sequence"/>
                                                    </span>
                                                    <span>
                                                        <field name="type"/>:
                                                    </span>
                                                    <field name="name"/>
                                                    <div t-if="record.function.raw_value">
                                                        <field name="function"/>
                                                    </div>
                                                    <div t-if="record.email.raw_value">
                                                        <field name="email" widget="email"/>
                                                    </div>
                                                    <div t-if="record.type.raw_value != 'contact'">
                                                        <div>
                                                            <field name="zip"/>
                                                            <field name="city"/>
                                                        </div>
                                                        <field t-if="record.state_id.raw_value" name="state_id"/>
                                                        <field name="country_id"/>
                                                    </div>
                                                    <div t-if="record.phone.raw_value">Phone:
                                                        <field name="phone"/>
                                                    </div>
                                                    <div t-if="record.mobile.raw_value">Mobile:
                                                        <field name="mobile"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban-->
                                    <form string="客户交货地址">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address"
                                                   widget="radio" options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>
                                            <group>

                                                <group>
                                                    <field name="is_company" invisible="1"/>
                                                    <field name="invoice_title" string="境外收货人"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')],'required' :1}"/>
                                                    <field name="name" string="编号(001开始)" invisible="1"
                                                           attrs="{'required' : ['|',('type', '=', 'contact'),('type', '=', 'delivery')]}"/>
                                                    <field name="country_id" placeholder="Country" string="目的国"
                                                           class="o_address_country"

                                                           options='{"no_open": True, "no_create": True}'/>

                                                    <field name="sequence"/>
                                                    <field name="comment_contact" placeholder="note..."
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>

                                                    <field name="invoice_title"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                                    <field name="wharf_src_id"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                                    <field name="wharf_dest_id"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                                    <field name="notice_man"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
                                                    <field name="delivery_man"
                                                           attrs="{'invisible': [('type', '!=', 'delivery')]}"
                                                           string="收货人"/>
                                                    <field name="customer" invisible="1"/>
                                                    <field name="supplier" invisible="1"/>
                                                    <field name="lang" invisible="1"/>

                                                </group>
                                                <group>  <!--attrs="{'invisible': [('type','=', 'contact')]}"-->


                                                    <field name="address_text" invisible="1"/>
                                                    <label for="street" string="地址/国别" invisible="1"/>
                                                    <div invisible="1">
                                                        <div class="o_address_format" name="div_address">
                                                            <field name="street" placeholder="Street..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                            <field name="street2" placeholder="Street 2..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '==', 'delivery')]}"/>
                                                            <field name="city" placeholder="City" class="o_address_city"
                                                                   invisible="1"/>
                                                            <field name="state_id" class="o_address_state" invisible="1"
                                                                   placeholder="State"
                                                                   options='{"no_open": True}'
                                                                   context="{'country_id': country_id, 'zip': zip}"/>
                                                            <field name="zip" placeholder="ZIP" invisible="1"
                                                                   class="o_address_zip"/>
                                                        </div>
                                                    </div>
                                                    <field name="exchange_type_ids" widget="many2many_tags"
                                                           string="交单方式"
                                                           attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>

                                                    <!-- field name="mark_ids" widget="many2many_tags"/-->

                                                    <field name="mark_text"
                                                           attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>

                                                    <!--label for="mark_comb_ids"/>
                                                    <div colspan="2">
                                                           <field name="mark_comb_ids"  attrs="{'invisible': [('type', '!=', 'delivery')]}">
                                                               <tree>
                                                                <field name="name"/>
                                                                <field name="description_mark"/>
                                                              </tree>


                                                            </field>
                                                    </div-->
                                                    <field name="demand_info"
                                                           attrs="{'invisible': ['|','|',('customer','=',False),('type', '!=', 'delivery'),('is_company','=',True)]}"/>
                                                    <field name="is_inter_partner" groups="base.group_system"/>

                                                </group>
                                            </group>
                                            <field name="supplier" invisible="True"/>
                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>

                                </field>
                            </page>
                            <page string="销售合同后置条款"
                                  attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                <field name="term_description" attrs="{'invisible':[('customer','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                            </page>

                            <page string="客户采购产品"
                                  attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)]}">
                                <field name="customer_product_ids" readonly="1"/>
                            </page>


                            <page name='internal_notes' groups="base.group_system" string="Internal Notes"
                                  attrs="{'invisible':['|',('type','=','delivery'),('is_company','!=',True)]}">
                                <group colspan="2" col="2" groups="purchase.group_warning_purchase">
                                    <separator string="Warning on the Purchase Order" colspan="4"/>
                                    <field name="purchase_warn" nolabel="1"/>
                                    <field name="purchase_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('purchase_warn','!=','no-message')],'readonly':[('purchase_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="sale.group_warning_sale">
                                    <separator string="Warning on the Sales Order" colspan="4"/>
                                    <field name="sale_warn" nolabel="1"/>
                                    <field name="sale_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('sale_warn','!=','no-message')],'readonly':[('sale_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="account.group_warning_account">
                                    <separator string="Warning on the Invoice" colspan="4"/>
                                    <field name="invoice_warn" nolabel="1"/>
                                    <field name="invoice_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('invoice_warn','!=','no-message')],'readonly':[('invoice_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="stock.group_warning_stock">
                                    <separator string="Warning on the Picking" colspan="4"/>
                                    <field name="picking_warn" nolabel="1"/>
                                    <field name="picking_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('picking_warn','!=','no-message')],'readonly':[('picking_warn','=','no-message')]}"/>
                                </group>

                            </page>

                            <page groups="base.group_system" string="Invoicing" name="accounting">
                                <group>
                                    <group string="Sale" name="acc_sale"
                                           attrs="{'invisible':['|','|',('customer','=',False),('type','=','delivery'),('is_company','!=',True)]}">

                                        <field name="trust" groups="base.group_no_one"/>
                                    </group>
                                    <group string="Purchase" name="acc_purchase"
                                           attrs="{'invisible':['|','|',('supplier','=',False),('type','=','delivery'),('is_company','!=',True)]}">
                                        <field name="property_supplier_payment_term_id"
                                               domain="[('type','=','purchase')]" widget="selection"/>
                                        <field name="auto_yfsqd"/>
                                        <field name="currency_id" invisible="1"/>
                                    </group>
                                    <group string="Fiscal Information" name="fiscal_information">
                                        <field name="property_account_position_id"
                                               options="{'no_create': True, 'no_open': True}"/>
                                    </group>
                                    <group string="Accounting Entries" name="accounting_entries"
                                           groups="account.group_account_user">
                                        <field name="property_account_receivable_id"/>
                                        <field name="property_account_payable_id"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Invoicing" groups="base.group_system" name="accounting_disabled"
                                  attrs="{'invisible': ['|',('is_company','=',True),('parent_id','=',False)]}">
                                <div>
                                    <p>Accounting-related settings are managed on
                                        <button name="open_commercial_entity" type="object" string="the parent company"
                                                class="oe_link"/>
                                    </p>
                                </div>
                            </page>
                            <page name='sales_purchases' string="Sales &amp; Purchases" groups="base.group_system">

                                <group string="Sale" name="sale">
                                    <field name="customer"/>
                                    <field name="opt_out" string="Mailing Opt-Out" groups="base.group_no_one"/>
                                    <field name="property_product_pricelist" groups="product.group_sale_pricelist"
                                           attrs="{'invisible': [('is_company','=',False),('parent_id','!=',False)]}"/>
                                    <div name="parent_pricelists" groups="product.group_sale_pricelist" colspan="2"
                                         attrs="{'invisible': ['|',('is_company','=',True),('parent_id','=',False)]}">
                                        <p>Pricelists are managed on
                                            <button name="open_commercial_entity" type="object"
                                                    string="the parent company" class="oe_link"/>
                                        </p>
                                    </div>
                                    <field name="message_bounce" groups="base.group_no_one"/>
                                </group>
                                <group string="Purchase" name="purchase">

                                    <field name="supplier"/>
                                </group>
                                <group name="container_row_2">
                                    <group string="Payments" name="banks">
                                        <field name="currency_id" invisible="1"/>
                                        <div>
                                            <button type="action" class="btn-link" name="56"
                                                    context="{'search_default_partner_id': active_id, 'default_partner_id': active_id}">
                                                <field string="Bank account(s)" name="bank_account_count"
                                                       widget="statinfo"/>
                                            </button>
                                        </div>

                                    </group>
                                    <group string="Misc">
                                        <field name="ref"/>
                                        <field name="company_id" groups="base.group_multi_company"
                                               options="{'no_create': True}"/>
                                        <field name="industry_id" attrs="{'invisible': [('is_company', '=', False)]}"
                                               options="{'no_create': True}"/>
                                    </group>
                                </group>
                            </page>
                            <page name="manager" string="管理页" groups="base.group_system">
                                <group>
                                    <field name="sales_approve_uid"/>
                                    <field name="sales_approve_date"/>
                                    <field name="approve_uid"/>
                                    <field name="approve_date"/>
                                    <field name="done_uid"/>
                                    <field name="done_date"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>


        <!--akiny 供应商form视图-->
        <record id="view_new_supplier_form" model="ir.ui.view">
            <field name="name">res.partner.supplier.form.new</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form string="供应商" create="false">
                    <header groups="base.group_system">
                        <button name="action_done" groups="base.group_system" string="确认" type="object"
                                class="btn-primary"
                                states="approve"/>
                        <button name="action_cancel" groups="base.group_system" string="取消" type="object"
                                class="btn-primary"
                                states="draft"/>
                        <button name="action_draft" groups="base.group_system" string="存为草稿" type="object"
                                class="btn-primary"
                                states="draft"/>
                        <field name="state" groups="base.group_system" statusbar_invisible="draft" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box" groups="base.group_system">
                            <button type="object" class="oe_stat_button" icon="fa-pencil-square-o"
                                    name="action_view_partner_invoices"
                                    attrs="{'invisible': [('customer', '=', False)]}">
                                <div class="o_form_field o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="total_invoiced" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </span>
                                    <span class="o_stat_text">Invoiced</span>
                                </div>
                            </button>
                            <button class="oe_stat_button" type="object" name="action_open_helpdesk_ticket"
                                    context="{'default_partner_id': active_id}" icon="fa-life-ring"
                                    attrs="{'invisible': [('ticket_count', '=', 0)]}">
                                <div class="o_stat_info">
                                    <field name="ticket_count" class="o_stat_value"/>
                                    <span class="o_stat_text">Tickets</span>
                                </div>
                            </button>
                            <contactsync/>
                            <button type="object" name="open_messsage" class="oe_stat_button" icon="fa-envelope"
                                    string="查看消息" groups="base.group_system" invisible="1"/>

                            <button name="partner_messages" type="object" class="oe_stat_button" icon="fa-envelope"
                                    attrs="{'invisible': [('messages_from_count', '=', 0)]}"
                                    context="{'open_mode': 'from'}">
                                <field name="messages_from_count" widget="statinfo" string="Author"/>
                            </button>
                            <button name="partner_messages" type="object" class="oe_stat_button" icon="fa-envelope"
                                    attrs="{'invisible': [('messages_to_count', '=', 0)]}"
                                    context="{'open_mode': 'to'}">
                                <field name="messages_to_count" widget="statinfo" string="Recipient"/>
                            </button>
                            <button class="oe_stat_button o_res_partner_tip_opp" type="action"
                                    attrs="{'invisible': [('customer', '=', False)]}" name="383" icon="fa-star"
                                    context="{'search_default_partner_id': active_id}">
                                <field string="Opportunities" name="opportunity_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="object" name="schedule_meeting" icon="fa-calendar"
                                    context="{'partner_id': active_id, 'partner_name': name}">
                                <field string="Meetings" name="meeting_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="website_publish_button" type="object" icon="fa-globe">
                                <field name="website_published" widget="website_button"/>
                            </button>
                            <button type="object" class="oe_stat_button" id="partner_ledger_button"
                                    icon="fa-pencil-square-o" name="open_partner_ledger"
                                    context="{'default_partner_id': active_id}">
                                <field name="partner_ledger_label"/>
                            </button>

                            <button type="object" class="oe_stat_button" name="open_action_followup"
                                    groups="account.group_account_user" icon="fa-list"
                                    attrs="{'invisible': [('credit', '=', 0)]}">
                                <div class="o_field_widget o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="credit" widget="monetary"
                                               options="{'currency_field': 'currency_id'}"/>
                                    </span>
                                    <span class="o_stat_text">Due</span>
                                </div>
                            </button>
                            <button class="oe_stat_button" type="action" name="274"
                                    attrs="{'invisible': [('customer', '=', False)]}" icon="fa-usd">
                                <field string="Sales" name="sale_order_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="347" type="action"
                                    attrs="{'invisible': [('supplier', '=', False)]}" icon="fa-shopping-cart">
                                <field string="Purchases" name="purchase_order_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="348" type="action"
                                    attrs="{'invisible': [('supplier', '=', False)]}" icon="fa-pencil-square-o"
                                    help="Vendor Bills">
                                <field string="Vendor Bills" name="supplier_invoice_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="action" name="206" icon="fa-book"
                                    groups="analytic.group_analytic_accounting">
                                <field string="Analytic Accounts" name="contracts_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="action" name="624"
                                    context="{'search_default_partner_id': active_id, 'default_partner_id': active_id}"
                                    attrs="{'invisible': [('task_count', '=', 0)]}" icon="fa-tasks">
                                <field string="Tasks" name="task_count" widget="statinfo"/>
                            </button>
                            <button name="toggle_active" type="object"
                                    class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button"
                                       options='{"terminology": "archive"}'/>
                            </button>
                            <field name="is_editable" widget="boolean_toggle"/>
                        </div>
                        <field name="image" widget='image' class="oe_avatar"
                               options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                        <div class="oe_title">
                            <field name="is_company" invisible="1"/>
                            <field name="commercial_partner_id" invisible="1"/>
                            <field name="company_type" widget="radio"
                                   class="oe_edit_only" invisible="1"
                                   options="{'horizontal': true}"/>

                            <div>
                                供应商简称：
                            </div>
                            <h1>
                                <field name="name" default_focus="1" widget="field_clearbit" placeholder="供应商简称"
                                       attrs="{'required' : [('type', '=', 'contact')],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                            </h1>
                            <div class="o_row">
                                <field name="code" readonly="1"/>
                                <button name="generate_code" type="object" string="生成编码" groups="base.group_system"/>
                                <field name="parent_id"
                                       placeholder="Company"
                                       domain="[('is_company', '=', True)]"
                                       context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer}"
                                       attrs="{'invisible': ['|', '&amp;', ('is_company','=', True),('parent_id', '=', False),('company_name', '!=', False),('company_name', '!=', '')],'form_view_ref':'yjzy_extend.view_new_supplier_form'}"/>
                                <field name="company_name"
                                       attrs="{'invisible': ['|', '|', ('company_name', '=', False), ('company_name', '=', ''), ('is_company', '=', True)]}"/>
                                <button name="create_company" type="object" string="Create company"
                                        class="btn btn-sm oe_edit_only fa fa-external-link btn btn-link "
                                        attrs="{'invisible': ['|', '|', ('is_company','=', True), ('company_name', '=', ''), ('company_name', '=', False)]}"/>
                            </div>
                        </div>

                        <group col="3">
                            <group>
                                <field name="type" invisible="1" attrs="{'invisible': [('parent_id','=', False)]}"
                                       groups="base.group_no_one,sale.group_delivery_invoice_address"/>
                                <field name="full_name" string="供应商全称"
                                       attrs="{
                                       'invisible':[('is_company','=',False)],'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                <!--label for="country_id" string="业务国" attrs="{'invisible':[('type','!=','delivery')]}"/>
                                <label for="country_id" string="所在国" attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_row"-->
                                <field name="country_id" placeholder="Country" string="供应商所在国"
                                       class="o_address_country "
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="city_product_origin" string="产地(国家/城市)" attrs="{'required' : [('state', '=', 'check')],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <!--/div-->
                                <field name="jituan_id" string="所属集团"
                                       domain="['|',('partner_type','=','supplier'),('partner_type','=',False)]"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{'invisible':[('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="property_purchase_currency_id" string="币种"
                                       options="{'no_create': True, 'no_open': True}"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="property_supplier_payment_term_id" help="做采购合同时，预设的付款条款和订单选择的条款有出入时，会标注红色"
                                       attrs="{'invisible':['|',('supplier','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       domain="[('type','=','purchase')]" widget="selection"/>

                                <separator string="" colspan="2"/>
                                <!--separator string="联系方式" style="border-bottom:1px #000000 solid" colspan="2"/-->

                                <label for="street" string="详细地址" groups="base.group_system"
                                       attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_address_format" groups="base.group_system"
                                     attrs="{'invisible':[('type','=','delivery')]}">
                                    <div class="oe_edit_only">
                                        <button name="open_parent" type="object" string="(edit)" class="oe_link"
                                                attrs="{'invisible': ['|', ('parent_id', '=', False), ('type', '!=', 'contact')]}"/>
                                    </div>
                                    <field name="street" placeholder="Street..." class="o_address_street"
                                           groups="base.group_system"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="street2" placeholder="Street 2..." class="o_address_street"
                                           groups="base.group_system"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"/>
                                    <field name="city" placeholder="City" class="o_address_city"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1"/>
                                    <field name="state_id" class="o_address_state" placeholder="State"
                                           options='{"no_open": True}'
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1" context="{'country_id': country_id, 'zip': zip}"/>
                                    <field name="zip" placeholder="ZIP" class="o_address_zip"
                                           attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}"
                                           invisible="1"/>
                                </div>
                                <label for="phone"
                                       attrs="{'invisible':[('type','=','delivery')]}"/>
                                <div class="o_row" attrs="{'invisible':[('type','=','delivery')]}">
                                    <field name="phone" placeholder="不知道填写：不详，没有填写：无" widget="phone" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                    <!--button type="action" name="126" class="btn-xs btn-link mb4 fa fa-envelope-o" attrs="{'invisible':[('phone', '=', False)]}" context="{'field_name': 'phone'}"/-->
                                </div>
                                <field name="fax" placeholder="不知道填写：不详，没有填写：无" attrs="{'invisible':[('type','=','delivery')],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="website" placeholder="不知道填写：不详，没有填写：无"
                                       attrs="{'invisible':['|',('type','=','delivery'),('is_company','!=',True)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="address_text" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="is_child_ids" invisible="1"/>

                            </group>
                            <group>
                                <!--供应商银行信息>
                                <field name="payee1" string="收款人"/>
                                <field name="payee1_address"/>
                                <field name="account1"/>
                                <field name="swift1" string="SWIFT(若有)"/>
                                <field name="bank1"/>
                                <field name="bank1_address"/-->


                                <!--供应商信息-->
                                <field name="level" string="供应商等级" invisible="1"/>
                                <field name="partner_level" string="供应商等级" widget="selection"
                                       domain="[('type','=','supplier')]"
                                       attrs="{'invisible':['|',('customer','=',False),('is_company','=',False)],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="user_ids" invisible="1"/>
                                <field name="is_inter_partner" groups="base.group_system"/>
                                <!--field name="campaign_id" string="供应商来源" attrs="{'required' : [('state', '=', 'check')],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/-->
                                <field name="partner_source_id" string="供应商来源"
                                       options='{"no_open": True, "no_create": True}'
                                       attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       domain="[('type','=','supplier')]"/>
                                <field name="supplier_info_from_uid" help="可以是内部职员，也可以外部非正式职员，如果找不到请联系合规负责人添加"
                                       string="供应商获取人" attrs="{'required' : [('state', '=', 'check')],
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                <field name="create_uid" options="{'no_open':1}"/>
                                <field name="create_date" widget="date"/>

                                <separator colspan="2"/>
                                <field name="advance_currency_id" invisible="1"/>
                                <field name="currency_id" invisible="1"/>
                                <field name="amount_purchase_advance_org" string="预付款余额" groups="base.group_system"
                                />
                                <field name="amount_purchase_advance" groups="base.group_system"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}"/>
                                <field name="need_purchase_fandian" groups="base.group_system"
                                       attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}"/>
                                <field name="purchase_fandian_ratio"
                                       attrs="{'invisible': [('need_purchase_fandian','!=',True)]}"/>
                                <field name="purchase_fandian_partner_id"
                                       attrs="{'invisible': [('need_purchase_fandian','!=',True)]}"/>

                            </group>
                            <group>


                                <field name="vat" invisible="1"
                                       attrs="{'readonly': [('parent_id','!=',False)]}"/>
                                <field name="category_id" invisible="1" widget="many2many_tags"
                                       options="{'color_field': 'color', 'no_create_edit': True}"
                                       placeholder="Tags..."/>
                                <field name="lang" invisible="1"/>

                                <label for="supplier_sale_total" colspan="2"/>
                                <div colspan="2">
                                    <field name="supplier_sale_total" placeholder="不知道填写：不详，没有填写：无" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                    <span style="margin-left:3px"
                                          attrs="{'invisible':1}">
                                        <field name="supplier_sale_total_note" placeholder="填写备注..."/>
                                    </span>
                                </div>

                                <label for="supplier_export_total" colspan="2"/>
                                <div colspan="2">
                                    <field name="supplier_export_total" placeholder="不知道填写：不详，没有填写：无" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>

                                    <span style="margin-left:3px"
                                          attrs="{'invisible':1}">
                                        <field name="supplier_export_total_note" placeholder="填写备注..."/>
                                    </span>
                                </div>

                                <label for="comment" colspan="2"/>
                                <div colspan="2">
                                    <field name="comment" placeholder="内部备注..."/>
                                </div>
                            </group>
                        </group>

                        <notebook colspan="4">
                            <page string="Contacts &amp; Addresses" autofocus="autofocus" groups="base.group_system">
                                <field name="child_ids" mode="tree,kanban" domain="[('type','=','contact')]"
                                       context="{'default_parent_id': active_id, 'default_street': street,
                                    'default_street2': street2, 'default_city': city, 'default_state_id': state_id,
                                    'default_zip': zip, 'default_country_id': country_id, 'default_supplier': supplier,
                                    'default_customer': customer, 'default_lang': lang}">
                                    <tree group_by="name">
                                        <field name="name" string="Contact Name"
                                               attrs="{'required' : [('type', '=', 'contact')]}"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="country_id"/>
                                        <field name="phone"/>
                                    </tree>


                                    <!--kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="state_id"/>
                                        <field name="image_small"/>
                                        <field name="lang"/-->
                                    <!-- fields in form x2many view to diminish requests -->
                                    <!--field name="comment"/>
                                    <field name="customer"/>
                                    <field name="display_name"/>
                                    <field name="supplier"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                            <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                                <a t-if="!read_only_mode" type="delete" class="fa fa-times pull-right"/>
                                                <div class="o_kanban_image">
                                                    <img t-if="record.image_small.raw_value" t-att-src="'data:image/png;base64,'+record.image_small.raw_value"/>
                                                    <t t-if="!record.image_small.raw_value">
                                                        <img t-if="record.type.raw_value === 'delivery'" t-att-src='_s + "/base/static/src/img/truck.png"'/>
                                                        <img t-if="record.type.raw_value === 'invoice'" t-att-src='_s + "/base/static/src/img/money.png"'/>
                                                        <t t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'">
                                                            <img t-if="record.is_company.raw_value === true" t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                                            <img t-if="record.is_company.raw_value === false" t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="oe_kanban_details">
                                                       <span>优先级<field name="sequence"/></span>
                                                      <span>
                                                         <field name="type"/>:
                                                      </span>
                                                    <field name="name"/>
                                                    <div t-if="record.function.raw_value"><field name="function"/></div>
                                                    <div t-if="record.email.raw_value"><field name="email" widget="email"/></div>
                                                    <div t-if="record.type.raw_value != 'contact'">
                                                        <div>
                                                            <field name="zip"/>
                                                            <field name="city"/>
                                                        </div>
                                                        <field t-if="record.state_id.raw_value" name="state_id"/>
                                                        <field name="country_id"/>
                                                    </div>
                                                    <div t-if="record.phone.raw_value">Phone: <field name="phone"/></div>
                                                    <div t-if="record.mobile.raw_value">Mobile: <field name="mobile"/></div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban-->
                                    <form string="Contact / Address">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>
                                            <group>

                                                <group>
                                                    <field name="is_company" invisible="1"/>
                                                    <field name="name" string="联系人"
                                                           attrs="{'required' : [('type', '=', 'contact')]}"/>
                                                    <field name="title" placeholder="e.g. Mr." invisible="1"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="function" placeholder="e.g. Sales Director"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="phone" widget="phone"/>
                                                    <field name="mobile" widget="phone"/>
                                                    <field name="email"/>
                                                    <field name="wechat"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="skype"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="qq"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="sequence"/>
                                                    <field name="comment_contact" placeholder="note..."
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                </group>
                                                <group>  <!--attrs="{'invisible': [('type','=', 'contact')]}"-->
                                                    <label for="street" string="地址"/>
                                                    <div>
                                                        <div class="o_address_format" name="div_address">
                                                            <field name="street" placeholder="Street..."
                                                                   class="o_address_street"/>
                                                            <field name="street2" placeholder="Street 2..."
                                                                   class="o_address_street"/>
                                                            <field name="city" placeholder="City" class="o_address_city"
                                                                   invisible="1"/>
                                                            <field name="state_id" class="o_address_state" invisible="1"
                                                                   placeholder="State" options='{"no_open": True}'
                                                                   context="{'country_id': country_id, 'zip': zip}"/>
                                                            <field name="zip" placeholder="ZIP" invisible="1"
                                                                   class="o_address_zip"/>
                                                            <field name="country_id" placeholder="Country"
                                                                   class="o_address_country"
                                                                   options='{"no_open": True, "no_create": True}'/>
                                                        </div>
                                                    </div>
                                                </group>
                                            </group>
                                            <field name="supplier" invisible="True"/>
                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>
                                </field>
                            </page>

                            <page string="联系人"
                                  attrs="{'invisible':['|',('type','=','delivery'),('is_company','!=',True)]}">

                                <field name="child_contact_ids" mode="tree,kanban" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       context="{'default_parent_id': active_id, 'default_street': street, 'default_street2': street2,
                                                 'default_zip': zip, 'default_country_id': country_id,'default_city_product_origin': city_product_origin,
                                                 'default_supplier': supplier, 'default_customer': customer,'default_address_text': address_text, 'default_lang': lang}">
                                    <tree class="o_list_scroll" editable="bottom">
                                        <field name="name" string="姓名" attrs="{'required':1}"/>
                                        <field name="country_id" string="国家" invisible="1"/>
                                        <field name="city_product_origin" string="产地(国家/城市)" invisible="1"/>
                                        <field name="function"/>
                                        <field name="phone" help="电话和手机二选一"/>
                                        <field name="mobile" help="电话和手机二选一"/>
                                        <field name="email" help="电子邮箱和社交帐号二选一"/>
                                        <field name="other_social_accounts" help="电子邮箱和社交帐号二选一"
                                               placeholder="如：微信，QQ，WHATSAPP等"/>
                                        <field name="wechat" invisible="1"/>
                                        <field name="skype" invisible="1"/>
                                        <field name="qq" invisible="1"/>
                                        <field name="comment_contact" placeholder="例：联系人为供应商实际负责人"/>
                                        <field name="address_text" string="办公地址"/>
                                        <field name="street" invisible="1"/>
                                        <field name="street2" invisible="1"/>
                                        <field name="customer" invisible="1"/>
                                        <field name="supplier" invisible="1"/>
                                        <field name="lang" invisible="1"/>
                                    </tree>

                                    <!--kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="type" groups="sale.group_delivery_invoice_address"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="state_id"/>
                                        <field name="image_small"/>
                                        <field name="lang"/-->
                                    <!-- fields in form x2many view to diminish requests -->
                                    <!--field name="comment"/>
                                    <field name="customer"/>
                                    <field name="display_name"/>
                                    <field name="supplier"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                            <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                                <a t-if="!read_only_mode" type="delete"
                                                   class="fa fa-times pull-right"/>
                                                <div class="o_kanban_image">
                                                    <img t-if="record.image_small.raw_value"
                                                         t-att-src="'data:image/png;base64,'+record.image_small.raw_value"/>
                                                    <t t-if="!record.image_small.raw_value">
                                                        <img t-if="record.type.raw_value === 'delivery'"
                                                             t-att-src='_s + "/base/static/src/img/truck.png"'/>
                                                        <img t-if="record.type.raw_value === 'invoice'"
                                                             t-att-src='_s + "/base/static/src/img/money.png"'/>
                                                        <t t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'">
                                                            <img t-if="record.is_company.raw_value === true"
                                                                 t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                                            <img t-if="record.is_company.raw_value === false"
                                                                 t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="oe_kanban_details">
                                                    <span>优先级
                                                        <field name="sequence"/>
                                                    </span>
                                                    <span>
                                                        <field name="type"/>:
                                                    </span>
                                                    <field name="name"/>
                                                    <div t-if="record.function.raw_value">
                                                        <field name="function"/>
                                                    </div>
                                                    <div t-if="record.email.raw_value">
                                                        <field name="email" widget="email"/>
                                                    </div>
                                                    <div t-if="record.type.raw_value != 'contact'">
                                                        <div>
                                                            <field name="zip"/>
                                                            <field name="city"/>
                                                        </div>
                                                        <field t-if="record.state_id.raw_value" name="state_id"/>
                                                        <field name="country_id"/>
                                                    </div>
                                                    <div t-if="record.phone.raw_value">Phone:
                                                        <field name="phone"/>
                                                    </div>
                                                    <div t-if="record.mobile.raw_value">Mobile:
                                                        <field name="mobile"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban-->
                                    <form string="联系人">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address"
                                                   widget="radio" options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>
                                            <group>

                                                <group>
                                                    <field name="is_company" invisible="1"/>
                                                    <field name="name" string="姓名"
                                                           attrs="{'required' : [('type', '=', 'contact')]}"/>
                                                    <field name="country_id" string="国家" invisible="1"/>
                                                    <field name="city_product_origin" string="产地(国家/城市)" invisible="1"/>
                                                    <field name="title" placeholder="e.g. Mr." invisible="1"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="function" placeholder="e.g. Sales Director"
                                                           attrs="{'invisible': [('type','!=', 'contact')]}"/>
                                                    <field name="phone" widget="phone"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="mobile" widget="phone"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="email"
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                    <field name="other_social_accounts"
                                                           placeholder="如：微信，QQ，WHATSAPP等"/>
                                                    <field name="sequence" groups="base.group_system"/>
                                                    <field name="comment_contact" placeholder="note..."
                                                           attrs="{'invisible': [('type', '=', 'delivery')]}"/>

                                                    <field name="is_inter_partner" groups="base.group_system"/>
                                                    <field name="customer" invisible="1"/>
                                                    <field name="supplier" invisible="1"/>
                                                    <field name="lang" invisible="1"/>
                                                </group>
                                                <group>  <!--attrs="{'invisible': [('type','=', 'contact')]}"-->
                                                    <label for="street" string="详细地址"/>
                                                    <div>
                                                        <div class="o_address_format" name="div_address">
                                                            <field name="street" placeholder="Street..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '=', 'delivery')]}"/>
                                                            <field name="street2" placeholder="Street 2..."
                                                                   class="o_address_street"
                                                                   attrs="{'invisible': [('type', '==', 'delivery')]}"/>
                                                            <field name="city" placeholder="City" class="o_address_city"
                                                                   invisible="1"/>
                                                            <field name="state_id" class="o_address_state" invisible="1"
                                                                   placeholder="State"
                                                                   options='{"no_open": True}'
                                                                   context="{'country_id': country_id, 'zip': zip}"/>
                                                            <field name="zip" placeholder="ZIP" invisible="1"
                                                                   class="o_address_zip"/>
                                                            <field name="country_id" placeholder="Country"
                                                                   class="o_address_country"
                                                                   attrs="{'required':[('customer','=',True),('is_inter_partner','=',False)],}"
                                                                   options='{"no_open": True, "no_create": True}'/>
                                                        </div>
                                                    </div>
                                                </group>
                                            </group>
                                            <field name="supplier" invisible="True"/>

                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>

                                </field>
                            </page>
                            <page string="供应商资质信息以及银行">
                                <group col="2" string="资质信息">
                                    <group>
                                        <label for="actual_controlling_person" colspan="2"/>
                                        <field name="actual_controlling_person" nolabel="1" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                                    </group>
                                    <group>
                                        <label for="attachment_business_license" colspan="2"/>
                                        <field name="attachment_business_license" nolabel="1" widget="many2many_binary"
                                               attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                               class="oe_inline"/>

                                    </group>
                                </group>
                                <group string="银行账户信息">
                                    <field name="bank_ids" nolabel="1"
                                           context="{'default_bank_type':'company_supplier','default_company_id':False}"
                                           attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}">
                                        <tree editable="bottom">
                                            <field name="bank_type" invisible="1"/>
                                            <field name="huming" string="收款人" attrs="{'required':1}"/>
                                            <field name="huming_address" string="收款人地址"/>
                                            <field name="acc_number" string="账户" attrs="{'required':1}"/>
                                            <field name="swift" string="SWIFT(如有)"/>
                                            <field name="kaihuhang" string="银行开户行" attrs="{'required':1}"/>
                                            <field name="kaihuhang_address" string="银行地址"/>
                                            <field name="partner_id" string="账户所有者" invisible="1"/>
                                            <field name="company_id" invisible="1"/>
                                        </tree>
                                        <form>
                                            <group>
                                                <field name="bank_type" invisible="1"/>
                                                <field name="huming" string="收款人" attrs="{'required':1}"/>
                                                <field name="huming_address" string="收款人地址"/>
                                                <field name="acc_number" string="账户" attrs="{'required':1}"/>
                                                <field name="swift" string="SWIFT(如有)"/>
                                                <field name="kaihuhang" string="银行开户行" attrs="{'required':1}"/>
                                                <field name="kaihuhang_address" string="银行地址"/>
                                                <field name="partner_id" string="账户所有者"/>
                                            </group>
                                        </form>
                                    </field>
                                </group>
                            </page>
                            <page string="供应商制造产品">
                                <field name="customer_product_origin_ids" nolabel="1" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       string="供应商制造产品">
                                    <tree editable="bottom">
                                        <field name="name" attrs="{'required':1}"/>
                                        <field name="description"/>
                                    </tree>
                                    <form>
                                        <field name="name" attrs="{'required':1}"/>
                                        <field name="description"/>
                                    </form>
                                </field>
                            </page>
                            <page string="供应商发票主体信息"
                                  attrs="{'invisible':['|',('supplier','=',False),('is_company','=',False)]}">

                                <field name="child_invoice_ids" mode="tree,kanban" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"
                                       context="{'default_parent_id': active_id, 'default_street': street, 'default_street2': street2,
                                               'default_city': city, 'default_state_id': state_id, 'default_zip': zip, 'default_country_id': country_id,
                                               'default_supplier': supplier, 'default_customer': customer, 'default_lang': lang,'default_type1':'invoice'}">

                                    <tree editable="bottom">
                                        <field name="name" string="发票主体名称" attrs="{'required':1}"/>
                                        <field name="parent_id" invisible="1"/>
                                        <field name="street" invisible="1"/>
                                        <field name="street2" invisible="1"/>
                                        <field name="city" invisible="1"/>
                                        <field name="state_id" invisible="1"/>
                                        <field name="zip" invisible="1"/>
                                        <field name="country_id" invisible="1"/>
                                        <field name="supplier" invisible="1"/>
                                        <field name="customer" invisible="1"/>
                                        <field name="lang" invisible="1"/>
                                        <field name="type" invisible="1"/>
                                        <field name="type1" invisible="1"/>
                                        <field name="partner_hs" widget="many2many_tags" attrs="{'required':1}"/>
                                        <field name="customer" invisible="1"/>
                                        <field name="supplier" invisible="1"/>
                                        <field name="lang" invisible="1"/>

                                    </tree>

                                    <form string="供应商发票信息">
                                        <sheet>
                                            <!-- parent_id and type fields needed in attrs in base_address_city module which overwrites
                                            _fields_view_get() of partner. It would be better to put those fields there but the web client
                                            dosen't support when a field is displayed several times in the same view.-->
                                            <field name="type" invisible="1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address" widget="radio"
                                                   options="{'horizontal': true}"/>
                                            <field name="type1" required="1" domain="['']"
                                                   groups="sale.group_delivery_invoice_address"
                                                   widget="radio" options="{'horizontal': true}"/>
                                            <field name="parent_id" invisible="1"/>
                                            <hr/>


                                            <group>
                                                <field name="is_company" invisible="1"/>
                                                <field name="name" string="发票主体名称"
                                                       attrs="{'required':1}"/>
                                                <field name="partner_hs" nolabel="many2many_tags"
                                                       attrs="{'required':1}"/>
                                                <field name="customer" invisible="1"/>
                                                <field name="supplier" invisible="1"/>
                                                <field name="lang" invisible="1"/>
                                            </group>

                                            <field name="supplier" invisible="True"/>
                                            <field name="customer" invisible="True"/>
                                            <field name="lang" invisible="True"/>
                                            <field name="image" invisible="True"/>
                                        </sheet>
                                    </form>

                                </field>
                            </page>


                            <page string="采购合同后置条款"
                                  attrs="{'invisible': ['|',('supplier','=',False),('is_company','=',False)]}">
                                <field name="term_purchase" attrs="{
                                       'readonly':[('state','not in',['draft','check']),('is_editable','=',False)]}"/>
                            </page>
                            <page name='internal_notes' groups="base.group_system" string="Internal Notes"
                                  attrs="{'invisible':['|',('type','=','delivery'),('is_company','!=',True)]}">
                                <group colspan="2" col="2" groups="purchase.group_warning_purchase">
                                    <separator string="Warning on the Purchase Order" colspan="4"/>
                                    <field name="purchase_warn" nolabel="1"/>
                                    <field name="purchase_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('purchase_warn','!=','no-message')],'readonly':[('purchase_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="sale.group_warning_sale">
                                    <separator string="Warning on the Sales Order" colspan="4"/>
                                    <field name="sale_warn" nolabel="1"/>
                                    <field name="sale_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('sale_warn','!=','no-message')],'readonly':[('sale_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="account.group_warning_account">
                                    <separator string="Warning on the Invoice" colspan="4"/>
                                    <field name="invoice_warn" nolabel="1"/>
                                    <field name="invoice_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('invoice_warn','!=','no-message')],'readonly':[('invoice_warn','=','no-message')]}"/>
                                </group>
                                <group colspan="2" col="2" groups="stock.group_warning_stock">
                                    <separator string="Warning on the Picking" colspan="4"/>
                                    <field name="picking_warn" nolabel="1"/>
                                    <field name="picking_warn_msg" colspan="3" nolabel="1"
                                           attrs="{'required':[('picking_warn','!=','no-message')],'readonly':[('picking_warn','=','no-message')]}"/>
                                </group>

                            </page>

                            <page groups="base.group_system" string="Invoicing" name="accounting">
                                <group>
                                    <group string="Sale" name="acc_sale"
                                           attrs="{'invisible':['|','|',('customer','=',False),('type','=','delivery'),('is_company','!=',True)]}">

                                        <field name="trust" groups="base.group_no_one"/>
                                    </group>
                                    <group string="Purchase" name="acc_purchase"
                                           attrs="{'invisible':['|','|',('supplier','=',False),('type','=','delivery'),('is_company','!=',True)]}">
                                        <field name="property_supplier_payment_term_id"
                                               domain="[('type','=','purchase')]" widget="selection"/>
                                        <field name="auto_yfsqd"/>
                                        <field name="currency_id" invisible="1"/>
                                    </group>
                                    <group string="Fiscal Information" name="fiscal_information">
                                        <field name="property_account_position_id"
                                               options="{'no_create': True, 'no_open': True}"/>
                                    </group>
                                    <group string="Accounting Entries" name="accounting_entries"
                                           groups="account.group_account_user">
                                        <field name="property_account_receivable_id"/>
                                        <field name="property_account_payable_id"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Invoicing" groups="base.group_system" name="accounting_disabled"
                                  attrs="{'invisible': ['|',('is_company','=',True),('parent_id','=',False)]}">
                                <div>
                                    <p>Accounting-related settings are managed on
                                        <button name="open_commercial_entity" type="object" string="the parent company"
                                                class="oe_link"/>
                                    </p>
                                </div>
                            </page>
                            <page name='sales_purchases' string="Sales &amp; Purchases" groups="base.group_system">

                                <group string="Sale" name="sale">
                                    <field name="customer"/>
                                    <field name="opt_out" string="Mailing Opt-Out" groups="base.group_no_one"/>
                                    <field name="property_product_pricelist" groups="product.group_sale_pricelist"
                                           attrs="{'invisible': [('is_company','=',False),('parent_id','!=',False)]}"/>
                                    <div name="parent_pricelists" groups="product.group_sale_pricelist" colspan="2"
                                         attrs="{'invisible': ['|',('is_company','=',True),('parent_id','=',False)]}">
                                        <p>Pricelists are managed on
                                            <button name="open_commercial_entity" type="object"
                                                    string="the parent company" class="oe_link"/>
                                        </p>
                                    </div>
                                    <field name="message_bounce" groups="base.group_no_one"/>
                                </group>
                                <group string="Purchase" name="purchase">

                                    <field name="supplier"/>
                                </group>
                                <group name="container_row_2">
                                    <group string="Payments" name="banks">
                                        <field name="currency_id" invisible="1"/>
                                        <div>
                                            <button type="action" class="btn-link" name="56"
                                                    context="{'search_default_partner_id': active_id, 'default_partner_id': active_id}">
                                                <field string="Bank account(s)" name="bank_account_count"
                                                       widget="statinfo"/>
                                            </button>
                                        </div>

                                    </group>
                                    <group string="Misc">
                                        <field name="ref"/>
                                        <field name="company_id" groups="base.group_multi_company"
                                               options="{'no_create': True}"/>
                                        <field name="industry_id" attrs="{'invisible': [('is_company', '=', False)]}"
                                               options="{'no_create': True}"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>


        <!-- Special restricted view for private address, with limited "named" info that
             can be traced back to the employee -->
        <record id="res_new_partner_view_form_private" model="ir.ui.view">
            <field name="name">res.partner.view.form.private.new</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="300"/>
            <field name="arch" type="xml">
                <form string="Private Address Form">
                    <sheet>
                        <field name="type" invisible="1"/>
                        <label for="name" class="oe_editonly"/>
                        <field name="name" required="0"/>
                        <group>
                            <group>
                                <label for="street" string="Address"/>
                                <div>
                                    <div class="o_address_format" name="div_address">
                                        <field name="street" placeholder="Street..." class="o_address_street"/>
                                        <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                        <field name="city" placeholder="City" class="o_address_city"/>
                                        <field name="state_id" class="o_address_state" placeholder="State"
                                               options='{"no_open": True}'
                                               context="{'country_id': country_id, 'zip': zip}"/>
                                        <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                        <field name="country_id" placeholder="Country" class="o_address_country"
                                               options='{"no_open": True, "no_create": True}'/>
                                    </div>
                                </div>
                            </group>
                            <group>
                                <field name="phone" widget="phone"/>
                                <field name="mobile" widget="phone"/>
                                <field name="email"/>
                            </group>
                        </group>
                        <group string="Bank Accounts">
                            <field name="bank_ids">
                                <tree editable="bottom">
                                    <field name="acc_number"/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_new_res_partner_filter" model="ir.ui.view">
            <field name="name">res.partner.select.new</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <search string="Search Partner">
                    <field name="name" string="模糊查询"
                           filter_domain="['|','|','|','|',('display_name','ilike',self),('ref','=',self),
                           ('email','ilike',self),('code','ilike',self),('child_contact_ids.name','ilike',self)]"/>
                    <filter name="filter_my_partners" help="My Partners" invisible="1"
                            domain="[('user_id','=',uid)]"/>
                    <filter name="done_partner" string="审批完成" help="审批完成" domain="[('state','=','done')]"/>
                    <filter name="approval_partner" string="审批中" help="审批中" domain="[('state','!=','done')]"/>
                    <separator/>
                    <filter string="个人客户" name="type_person" domain="[('is_company','=',0)]" invisible="1"/>
                    <filter string="公司客户" name="type_company" domain="[('is_company','=',1)]" invisible="1"/>
                    <separator/>
                    <filter string="Customers" name="customer" invisible="1"
                            domain="[('customer','=',1), ('parent_id', '=', False)]"/>
                    <filter string="Vendors" invisible="1" name="supplier"
                            domain="[('supplier','=',1), ('parent_id', '=', False)]"/>
                    <filter string="Archived" invisible="1" name="inactive" domain="[('active','=',False)]"/>
                    <separator/>
                    <field name="category_id" invisible="1" string="Tag"
                           filter_domain="[('category_id','ilike', self)]"/>
                    <field name="user_id" string="责任人"/>
                    <field name="parent_id" domain="[('is_company','=',1)]" invisible="1" operator="child_of"/>
                    <group expand="0" name="group_by" string="Group By">
                        <filter name="salesperson" string="责任人" domain="[]" context="{'group_by' : 'user_id'}"/>
                        <filter name="group_state" string="状态" domain="[]" context="{'group_by' : 'state'}"/>
                        <filter name="group_company" string="Company" context="{'group_by': 'parent_id'}"
                                invisible="1"/>
                        <filter name="group_country" string="国家" context="{'group_by': 'country_id'}"/>
                        <filter name="group_city" string="城市" context="{'group_by': 'city_product_origin'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!-- Partner Kanban View -->
        <record model="ir.ui.view" id="res_new_partner_kanban_view">
            <field name="name">res.partner.kanban.new</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <kanban class="o_res_partner_kanban">
                    <field name="id"/>
                    <field name="color"/>
                    <field name="display_name"/>
                    <field name="title"/>
                    <field name="email"/>
                    <field name="parent_id"/>
                    <field name="is_company"/>
                    <field name="function"/>
                    <field name="phone"/>
                    <field name="street"/>
                    <field name="street2"/>
                    <field name="zip"/>
                    <field name="city"/>
                    <field name="country_id"/>
                    <field name="mobile"/>
                    <field name="state_id"/>
                    <field name="category_id"/>
                    <field name="image_small"/>
                    <field name="type"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click o_res_partner_kanban">
                                <div class="o_kanban_image">
                                    <t t-if="record.image_small.raw_value">
                                        <img t-att-src="kanban_image('res.partner', 'image_small', record.id.raw_value)"/>
                                    </t>
                                    <t t-if="!record.image_small.raw_value">
                                        <t t-if="record.type.raw_value === 'delivery'">
                                            <img t-att-src='_s + "/base/static/src/img/truck.png"'
                                                 class="o_kanban_image oe_kanban_avatar_smallbox"/>
                                        </t>
                                        <t t-if="record.type.raw_value === 'invoice'">
                                            <img t-att-src='_s + "/base/static/src/img/money.png"'
                                                 class="o_kanban_image oe_kanban_avatar_smallbox"/>
                                        </t>
                                        <t t-if="record.type.raw_value != 'invoice' &amp;&amp; record.type.raw_value != 'delivery'">
                                            <t t-if="record.is_company.raw_value === true">
                                                <img t-att-src='_s + "/base/static/src/img/company_image.png"'/>
                                            </t>
                                            <t t-if="record.is_company.raw_value === false">
                                                <img t-att-src='_s + "/base/static/src/img/avatar.png"'/>
                                            </t>
                                        </t>
                                    </t>
                                </div>
                                <div class="oe_kanban_details">
                                    <strong class="o_kanban_record_title oe_partner_heading">
                                        <field name="display_name"/>
                                    </strong>
                                    <div class="o_kanban_tags_section oe_kanban_partner_categories"/>
                                    <ul>
                                        <li t-if="record.parent_id.raw_value and !record.function.raw_value">
                                            <field name="parent_id"/>
                                        </li>
                                        <li t-if="!record.parent_id.raw_value and record.function.raw_value">
                                            <field name="function"/>
                                        </li>
                                        <li t-if="record.parent_id.raw_value and record.function.raw_value">
                                            <field name="function"/>
                                            at
                                            <field name="parent_id"/>
                                        </li>
                                        <li t-if="record.city.raw_value and !record.country_id.raw_value">
                                            <field name="city"/>
                                        </li>
                                        <li t-if="!record.city.raw_value and record.country_id.raw_value">
                                            <field name="country_id"/>
                                        </li>
                                        <li t-if="record.city.raw_value and record.country_id.raw_value"><field
                                                name="city"/>,
                                            <field name="country_id"/>
                                        </li>
                                        <li t-if="record.email.raw_value" class="o_text_overflow">
                                            <field name="email"/>
                                        </li>
                                    </ul>
                                    <div class="oe_kanban_partner_links"/>
                                </div>
                            </div>

                        </t>
                    </templates>
                </kanban>
            </field>
        </record>


        <record id="action_new_partner_form" model="ir.actions.act_window">
            <field name="name">Customers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{"search_default_customer":1}</field>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to add a contact in your address book.
                </p>
                <p>
                    Odoo helps you easily track all activities related to
                    a customer: discussions, history of business opportunities,
                    documents, etc.
                </p>
            </field>
        </record>
        <record id="action_new_partner_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="res_new_partner_kanban_view"/>
            <field name="act_window_id" ref="action_new_partner_form"/>
        </record>
        <record id="action_new_partner_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_new_partner_form"/>
            <field name="act_window_id" ref="action_new_partner_form"/>
        </record>
        <record id="action_new_partner_tree_view1" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_new_partner_tree"/>
            <field name="act_window_id" ref="action_new_partner_form"/>
        </record>

        <!--record id="action_new_partner_customer_form" model="ir.actions.act_window">
            <field name="name">Customers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[]</field>
            <field name="context">{'default_customer':1, 'search_default_customer':1, 'default_company_type': 'company','default_is_company': 1}</field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                Odoo helps you easily track all activities related to
                a customer: discussions, history of business opportunities,
                documents, etc.
              </p>
            </field>
        </record-->


        <!--record id="action_new_partner_customer_form_view1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="res_new_partner_kanban_view"/>
            <field name="act_window_id" ref="action_new_partner_customer_form"/>
        </record>
        <record id="action_new_partner_customer_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_new_partner_tree"/>
            <field name="act_window_id" ref="action_new_partner_customer_form"/>
        </record>
        <record id="action_new_partner_customer_form_view3" model="ir.actions.act_window.view">
            <field eval="3" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_new_partner_form"/>
            <field name="act_window_id" ref="action_new_partner_customer_form"/>
        </record-->

        <record id="action_new_partner_supplier_form" model="ir.actions.act_window">
            <field name="name">Vendors</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="domain">[]</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_supplier': 1,'default_customer': 0,'default_supplier': 1,
                'default_company_type': 'company'}
            </field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to add a contact in your address book.
                </p>
                <p>
                    Odoo helps you easily track all activities related to
                    a supplier: discussions, history of purchases,
                    documents, etc.
                </p>
            </field>
        </record>
        <record id="action_new_partner_vendor_form_view1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="res_new_partner_kanban_view"/>
            <field name="act_window_id" ref="action_new_partner_supplier_form"/>
        </record>
        <record id="action_new_partner_vendor_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_new_partner_tree"/>
            <field name="act_window_id" ref="action_new_partner_supplier_form"/>
        </record>
        <record id="action_new_partner_vendor_form_view3" model="ir.actions.act_window.view">
            <field eval="3" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_new_partner_form"/>
            <field name="act_window_id" ref="action_new_partner_supplier_form"/>
        </record>


        <record id="action_new_partner_employee_form" model="ir.actions.act_window">
            <field name="name">Employees</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="domain">[('employee','=',1)]</field>
            <field name="context">{'default_customer':0, 'default_supplier':0 , 'default_employee':1}</field>
            <field name="filter" eval="True"/>
        </record>

        <record id="action_new_partner_other_form" model="ir.actions.act_window">
            <field name="name">Other Partners</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="domain">[('supplier','!=',1),('customer','!=',1)]</field>
            <field name="filter" eval="True"/>
        </record>

        <!-- Categories -->
        <record id="view_new_partner_category_form" model="ir.ui.view">
            <field name="name">Contact Tags</field>
            <field name="model">res.partner.category</field>
            <field name="arch" type="xml">
                <form string="Contact Tag">
                    <group col="4">
                        <field name="name"/>
                        <field name="active"/>
                        <field name="parent_id"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="view_new_partner_category_list" model="ir.ui.view">
            <field name="name">Contact Tags</field>
            <field name="model">res.partner.category</field>
            <field eval="6" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Contact Tags">
                    <field name="display_name"/>
                </tree>
            </field>
        </record>
        <record id="action_new_partner_category_form" model="ir.actions.act_window">
            <field name="name">Contact Tags</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner.category</field>
            <field name="view_type">form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a new partner tag.
                </p>
                <p>
                    Manage partner tags to better classify them for tracking and analysis purposes.
                    A partner may have several categories and categories have a hierarchical structure: a partner with a
                    category has also the parent category.
                </p>
            </field>
        </record>

        <!-- Industry -->
        <record id="res_new_partner_industry_view_form" model="ir.ui.view">
            <field name="name">Industry</field>
            <field name="model">res.partner.industry</field>
            <field name="arch" type="xml">
                <form string="Industry">
                    <group col="4">
                        <field name="name"/>
                        <field name="full_name"/>
                        <field name="active"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="res_new_partner_industry_view_tree" model="ir.ui.view">
            <field name="name">Industry</field>
            <field name="model">res.partner.industry</field>
            <field eval="6" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Industry">
                    <field name="name"/>
                    <field name="full_name"/>
                    <field name="active"/>
                </tree>
            </field>
        </record>
        <record id="res_new_partner_industry_action" model="ir.actions.act_window">
            <field name="name">Industry</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner.industry</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a new industry.
                </p>
                <p>
                    Manage sectors of activity to better classify partners for tracking and analysis purposes.
                </p>
            </field>
        </record>
        <!--akiny-->

        <menuitem id="new_customer_root" name="客户:新" sequence="99"
                  groups="base.group_system"/>

        <record id="action_new_customer_approval" model="ir.actions.act_window">
            <field name="name">审批中的客户</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">
                [('customer','=',True),('is_company','=',True),('name','!=','未定义'),('state','!=','done'),
                '|','|','|','|','|','|','|','|','|',('create_uid','=',uid),('assistant_id','=',uid),
                ('user_id','=',uid),('parent_id.assistant_id','=',uid),('parent_id.user_id','=',uid),
                ('supplier','=',1),('x_studio_field_3ErQR','=',1),('is_inter_partner','=',1),('x_studio_field_U7OvH',
                'in',uid),
                ('parent_id.x_studio_field_U7OvH', 'in',uid)]
            </field>
            <field name="context">{'default_is_company': True,'default_customer': True,
                'default_contract_type':'c','group_by':'x_wkf_state'}
            </field>
            <field name="filter" eval="True"/>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_new_partner_customer_tree')}),
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('res_new_partner_kanban_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_customer_form')})]"/>
        </record>


        <menuitem id="new_customer_approval_menu" parent="new_customer_root" name="审批中的客户" sequence="1"
                  action="action_new_customer_approval"/>

        <record id="action_new_customer_form" model="ir.actions.act_window">
            <field name="name">客户查询</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">
                [('customer','=',True),('is_company','=',True),('name','!=','未定义'),('state','=','done'),
                '|','|','|','|','|','|','|','|','|',('create_uid','=',uid),('assistant_id','=',uid),
                ('user_id','=',uid),('parent_id.assistant_id','=',uid),('parent_id.user_id','=',uid),
                ('supplier','=',1),('x_studio_field_3ErQR','=',1),('is_inter_partner','=',1),('x_studio_field_U7OvH',
                'in',uid),
                ('parent_id.x_studio_field_U7OvH', 'in',uid)]
            </field>
            <field name="context">{'default_is_company': True,'default_customer': True, 'default_contract_type':'c'}
            </field>
            <field name="filter" eval="True"/>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_new_partner_customer_tree')}),
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('res_new_partner_kanban_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_customer_form')})]"/>
        </record>


        <menuitem id="new_customer_menu" parent="new_customer_root" name="客户查询" sequence="2"
                  action="action_new_customer_form"
        />


        <record model="ir.actions.act_window" id="action_customer_create">
            <field name="name">创建新客户</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="domain">[]</field>
            <field name="context">{'default_is_company': True,'default_customer': True, 'default_contract_type':'c'}
            </field>
            <field name="view_ids" eval="[(5, 0, 0),
                                 (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_customer_form')})]"/>
        </record>
        <menuitem id="new_customer_create_menu" name="创建客户" groups="base.group_system" parent="new_customer_root"
                  action="action_customer_create" sequence="99"/>


        <menuitem id="new_supplier_root" name="供应商:新" sequence="99"
                  groups="base.group_system"/>

        <record id="action_new_partner_supplier_approval" model="ir.actions.act_window">
            <field name="name">审批中的供应商</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">
                [('supplier','=',True),('is_company','=',True),('name','!=','未定义'),('state','!=','done')]
            </field>
            <field name="context">{'default_is_company': True,'default_supplier': True,
                'group_by':'x_wkf_state','default_customer':False}
            </field>
            <field name="filter" eval="True"/>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_new_partner_supplier_tree')}),
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('res_new_partner_kanban_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_supplier_form')})]"/>
        </record>


        <menuitem id="new_supplier_approval_menu" parent="new_supplier_root" name="审批中的供应商" sequence="1"
                  action="action_new_partner_supplier_approval"
        />

        <record id="action_new_partner_supplier" model="ir.actions.act_window">
            <field name="name">供应商查询</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">
                [('supplier','=',True),('is_company','=',True),('name','!=','未定义'),('state','=','done')]
            </field>
            <field name="context">{'default_is_company': True,'default_supplier': True,'default_customer':False}</field>
            <field name="filter" eval="True"/>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_new_partner_supplier_tree')}),
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('res_new_partner_kanban_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_supplier_form')})]"/>
        </record>


        <menuitem id="new_supplier_menu" parent="new_supplier_root" name="供应商查询" sequence="98"
                  action="action_new_partner_supplier"
        />

        <record model="ir.actions.act_window" id="action_supplier_create">
            <field name="name">创建新供应商</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="domain">[]</field>
            <field name="context">{'default_is_company': True,'default_supplier': True,'default_customer':False}
            </field>
            <field name="view_ids" eval="[(5, 0, 0),
                                 (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_supplier_form')})]"/>
        </record>
        <menuitem id="new_supplier_create_menu" name="创建供应商" parent="new_supplier_root"
                  action="action_supplier_create" sequence="99"/>

        <record id="view_new_partner_contact_simple_form" model="ir.ui.view">
            <field name="name">res.partner.contact.simple.form.new</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <form string="联系人">
                    <field name="is_company" invisible="1"/>
                    <field name="type" invisible="1"/>
                    <field name="image" widget='image' class="oe_avatar" options='{"preview_image": "image_medium"}'/>
                    <div class="oe_title">
                        <field name="company_type" invisible="1" options="{'horizontal': true}" class="oe_edit_only"
                               widget="radio"/>
                        <h1>
                            <field name="name" default_focus="1" placeholder="Name"
                                   attrs="{'required':1}"/>
                        </h1>
                        <field name="parent_id"
                               placeholder="Company"
                               domain="[('is_company', '=', True)]" context="{'default_is_company': True}"
                               attrs="{'invisible': 1}"/>
                    </div>
                    <group>
                        <field name="function" placeholder="e.g. Sales Director"/>
                        <field name="user_ids" invisible="1"/>
                        <field name="email"
                        />
                        <field name="phone" widget="phone"/>
                        <field name="mobile" widget="phone"/>
                        <field name="customer" invisible="1"/>
                        <field name="is_inter_partner" invisible="1"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_new_partner_contact_simple_tree" model="ir.ui.view">
            <field name="name">res.partner.contact.simple.tree.new</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <tree string="联系人" editable="bottom">
                    <field name="is_company" invisible="1"/>
                    <field name="type" invisible="1"/>
                    <field name="customer" invisible="1"/>
                    <field name="is_inter_partner" invisible="1"/>
                    <field name="name" attrs="{'required':1}"/>

                    <field name="function"/>
                    <field name="user_ids" invisible="1"/>
                    <field name="email"/>
                    <field name="phone"/>
                    <field name="mobile"/>


                </tree>
            </field>
        </record>

        <record id="action_new_partner_inter" model="ir.actions.act_window">
            <field name="name">内部人员</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('is_company','=',False),('is_inter_partner','=',True)]</field>
            <field name="context">{'default_is_company': False,'default_is_inter_partner':
                True,'default_customer':False}
            </field>
            <field name="filter" eval="True"/>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_new_partner_contact_simple_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_partner_contact_simple_form')})]"/>
        </record>


        <menuitem id="new_partner_inter" parent="customer_config" name="内部人员" sequence="99"
                  action="action_new_partner_inter"/>


        <record id="action_new_customer_account" model="ir.actions.act_window">
            <field name="name">公司客户数据查询</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('customer','=',True),('is_company','=',True),('name','!=','未定义')]
            </field>
            <field name="context">{'search_default_group_state':1,'default_is_company': True,'default_customer': True, 'default_contract_type':'c'}
            </field>
            <field name="filter" eval="True"/>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_new_partner_customer_account_tree')}),
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('res_new_partner_kanban_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_customer_account_form')})]"/>
        </record>
        <menuitem id="menu_new_customer_account" parent="new_customer_root" name="客户数据查询" sequence="99"
                  action="action_new_customer_account"/>



         <record id="action_new_supplier_account" model="ir.actions.act_window">
            <field name="name">供应商数据查询</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">
                [('supplier','=',True),('is_company','=',True),('name','!=','未定义')]
            </field>
            <field name="context">{'default_is_company': True,'default_supplier': True,
                'group_by':'x_wkf_state','default_customer':False}
            </field>
            <field name="filter" eval="True"/>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_new_partner_supplier_account_tree')}),
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('res_new_partner_kanban_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_supplier_account_form')})]"/>
        </record>


        <menuitem id="menu_new_supplier_account" parent="new_supplier_root" name="供应商数据查询" sequence="99"
                  action="action_new_supplier_account"/>

        <record id="action_new_customer_account_all" model="ir.actions.act_window">
            <field name="name">所有客户</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">
                [('customer','=',True),('name','!=','未定义'),('parent_id','=',False)]
            </field>
            <field name="context">{'default_is_company': True,'default_customer': True, 'default_contract_type':'c'}
            </field>
            <field name="filter" eval="True"/>
            <field name="search_view_id" ref="view_new_res_partner_filter"/>
            <field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_new_partner_customer_account_tree')}),
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('res_new_partner_kanban_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_new_customer_account_form')})]"/>
        </record>
        <menuitem id="mennu_new_customer_account_all" parent="menu_account_new_root" name="所有客户" sequence="99"
                  action="action_new_customer_account_all"/>
    </data>
</odoo>
